<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="by: Frida van Teijlingen" />


<title>Data &amp; methods</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="tweaks.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    My journal
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="tutorial.html">Page 1 - Week 1</a>
    </li>
    <li>
      <a href="w2.html">Page 2 - Week 2</a>
    </li>
    <li>
      <a href="w3webscraping.html">Page 3 - Week 3</a>
    </li>
    <li>
      <a href="w4.html">Page 4 - Week 4</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Page 5 - Week 5</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="w5dataselect.html">Week 5 - trying data selection</a>
        </li>
        <li>
          <a href="tryleaflet.html">Week 5 - trying leaflet</a>
        </li>
        <li>
          <a href="w5Rsiena.html">Week 5 - RSiena lecture pt 1</a>
        </li>
        <li>
          <a href="w5RsienaLEC.html">Week 5 - RSiena lecture pt 2</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="w5and6RSienaTRY.html">Week 6 - Rsiena own data</a>
    </li>
    <li>
      <a href="w7.html">Week 7 - GOF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    My final assignment
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="FJintro.html">Introduction</a>
    </li>
    <li>
      <a href="FJtheory.html">Theory</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Data, Preparation and Methods</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="FJdatamethods2.html">Data</a>
        </li>
        <li>
          <a href="data_preparation.html">Data preparation - code</a>
        </li>
        <li>
          <a href="travel_times.html">Matching and looping travel times - code</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">RSiena model analyses</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="FJanalysis.html">RSiena models</a>
        </li>
        <li>
          <a href="FJinteraction.html">Interaction of gender</a>
        </li>
        <li>
          <a href="FJgof.html">Goodness of Fit</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="FJconclusion.html">Conclusion</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://fridaleertdingen.github.io/labjournal/">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Data &amp; methods</h1>
<h4 class="author">by: Frida van Teijlingen</h4>

</div>


<style>
body {
text-align: justify}
</style>
<div id="set-up" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Set up</h1>
<pre class="r"><code>rm(list = ls())</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p><strong><em>‘Out of sight, out of mind: a social network approach to
geographical distance and co-authorship collaboration at four Sociology
departments in the Netherlands’</em></strong></p>
<hr />
<div id="functions" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Functions</h2>
<pre class="r test"><code>#---- Loading packages ----
fpackage.check &lt;- function(packages) {
    lapply(packages, FUN = function(x) {
        if (!require(x, character.only = TRUE)) {
            install.packages(x, dependencies = TRUE)
            library(x, character.only = TRUE)
        }
    })
}

#---- Data saving ----
fsave &lt;- function(x, file = NULL, location = &quot;./data/processed/&quot;) {
    ifelse(!dir.exists(&quot;data&quot;), dir.create(&quot;data&quot;), FALSE)
    ifelse(!dir.exists(&quot;data/processed&quot;), dir.create(&quot;data/processed&quot;), FALSE)
    if (is.null(file))
        file = deparse(substitute(x))
    datename &lt;- substr(gsub(&quot;[:-]&quot;, &quot;&quot;, Sys.time()), 1, 8)
    totalname &lt;- paste(location, file, &quot;_&quot;, datename, &quot;.rda&quot;, sep = &quot;&quot;)
    save(x, file = totalname)  #need to fix if file is reloaded as input name, not as x. 
}

#---- Loading in data ----
fload &lt;- function(filename) {
    load(filename)
    get(ls()[ls() != &quot;filename&quot;])
}

#---- Output ----
fshowdf &lt;- function(x, ...) {
    knitr::kable(x, digits = 2, &quot;html&quot;, ...) %&gt;%
        kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;)) %&gt;%
        kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)
}


#---- Moran&#39;s I ----
fMoran.I &lt;- function(x, weight, scaled = FALSE, na.rm = FALSE, alternative = &quot;two.sided&quot;, rowstandardize = TRUE) {
    if (rowstandardize) {
        if (dim(weight)[1] != dim(weight)[2])
            stop(&quot;&#39;weight&#39; must be a square matrix&quot;)
        n &lt;- length(x)
        if (dim(weight)[1] != n)
            stop(&quot;&#39;weight&#39; must have as many rows as observations in &#39;x&#39;&quot;)
        ei &lt;- -1/(n - 1)
        nas &lt;- is.na(x)
        if (any(nas)) {
            if (na.rm) {
                x &lt;- x[!nas]
                n &lt;- length(x)
                weight &lt;- weight[!nas, !nas]
            } else {
                warning(&quot;&#39;x&#39; has missing values: maybe you wanted to set na.rm = TRUE?&quot;)
                return(list(observed = NA, expected = ei, sd = NA, p.value = NA))
            }
        }
        ROWSUM &lt;- rowSums(weight)
        ROWSUM[ROWSUM == 0] &lt;- 1
        weight &lt;- weight/ROWSUM
        s &lt;- sum(weight)
        m &lt;- mean(x)
        y &lt;- x - m
        cv &lt;- sum(weight * y %o% y)
        v &lt;- sum(y^2)
        obs &lt;- (n/s) * (cv/v)
        if (scaled) {
            i.max &lt;- (n/s) * (sd(rowSums(weight) * y)/sqrt(v/(n - 1)))
            obs &lt;- obs/i.max
        }
        S1 &lt;- 0.5 * sum((weight + t(weight))^2)
        S2 &lt;- sum((apply(weight, 1, sum) + apply(weight, 2, sum))^2)
        s.sq &lt;- s^2
        k &lt;- (sum(y^4)/n)/(v/n)^2
        sdi &lt;- sqrt((n * ((n^2 - 3 * n + 3) * S1 - n * S2 + 3 * s.sq) - k * (n * (n - 1) * S1 - 2 * n *
            S2 + 6 * s.sq))/((n - 1) * (n - 2) * (n - 3) * s.sq) - 1/((n - 1)^2))
        alternative &lt;- match.arg(alternative, c(&quot;two.sided&quot;, &quot;less&quot;, &quot;greater&quot;))
        pv &lt;- pnorm(obs, mean = ei, sd = sdi)
        if (alternative == &quot;two.sided&quot;)
            pv &lt;- if (obs &lt;= ei)
                2 * pv else 2 * (1 - pv)
        if (alternative == &quot;greater&quot;)
            pv &lt;- 1 - pv
        list(observed = obs, expected = ei, sd = sdi, p.value = pv)
    } else {
        if (dim(weight)[1] != dim(weight)[2])
            stop(&quot;&#39;weight&#39; must be a square matrix&quot;)
        n &lt;- length(x)
        if (dim(weight)[1] != n)
            stop(&quot;&#39;weight&#39; must have as many rows as observations in &#39;x&#39;&quot;)
        ei &lt;- -1/(n - 1)
        nas &lt;- is.na(x)
        if (any(nas)) {
            if (na.rm) {
                x &lt;- x[!nas]
                n &lt;- length(x)
                weight &lt;- weight[!nas, !nas]
            } else {
                warning(&quot;&#39;x&#39; has missing values: maybe you wanted to set na.rm = TRUE?&quot;)
                return(list(observed = NA, expected = ei, sd = NA, p.value = NA))
            }
        }
        # ROWSUM &lt;- rowSums(weight) ROWSUM[ROWSUM == 0] &lt;- 1 weight &lt;- weight/ROWSUM
        s &lt;- sum(weight)
        m &lt;- mean(x)
        y &lt;- x - m
        cv &lt;- sum(weight * y %o% y)
        v &lt;- sum(y^2)
        obs &lt;- (n/s) * (cv/v)
        if (scaled) {
            i.max &lt;- (n/s) * (sd(rowSums(weight) * y)/sqrt(v/(n - 1)))
            obs &lt;- obs/i.max
        }
        S1 &lt;- 0.5 * sum((weight + t(weight))^2)
        S2 &lt;- sum((apply(weight, 1, sum) + apply(weight, 2, sum))^2)
        s.sq &lt;- s^2
        k &lt;- (sum(y^4)/n)/(v/n)^2
        sdi &lt;- sqrt((n * ((n^2 - 3 * n + 3) * S1 - n * S2 + 3 * s.sq) - k * (n * (n - 1) * S1 - 2 * n *
            S2 + 6 * s.sq))/((n - 1) * (n - 2) * (n - 3) * s.sq) - 1/((n - 1)^2))
        alternative &lt;- match.arg(alternative, c(&quot;two.sided&quot;, &quot;less&quot;, &quot;greater&quot;))
        pv &lt;- pnorm(obs, mean = ei, sd = sdi)
        if (alternative == &quot;two.sided&quot;)
            pv &lt;- if (obs &lt;= ei)
                2 * pv else 2 * (1 - pv)
        if (alternative == &quot;greater&quot;)
            pv &lt;- 1 - pv
        list(observed = obs, expected = ei, sd = sdi, p.value = pv)
    }


}</code></pre>
</div>
<div id="libraries" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Libraries</h2>
<pre class="r test"><code>packages &lt;- c(&quot;RSiena&quot;, &quot;tidyverse&quot;, &quot;stringdist&quot;, &quot;stringi&quot;, &quot;igraph&quot;, &quot;leaflet&quot;)
fpackage.check(packages)</code></pre>
</div>
<div id="load-in-data" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Load in data</h2>
<pre class="r test"><code># df_ego
df_ego &lt;- fload(&quot;./data/processed/df_ego_20241009.rda&quot;)

# df_works
df_works &lt;- fload(&quot;data/processed/df_works_20241009.rda&quot;)

# df_allunis
unidata &lt;- fload(&quot;data/processed/unidata_20241009.rda&quot;)

travelt_matrix &lt;- fload(&quot;data/processed/travelt_matrix_20241009.rda&quot;)</code></pre>
<hr />
</div>
</div>
<div id="data" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Data</h1>
<p>Ahead of answering the research questions laid a process of cleaning
and transforming raw data into data that was ready to be analysed. The
dataset provided as part of the course material consisted of scholars
within the Sociology and Political Science departments of Dutch
universities. This data was previously webscraped from OpenAlex, an open
access bibliographic catalogue of scientific papers, authors and
institutions. The scraped data includes names, university of employment,
job description, Google scholar ID, discipline and OpenAlex ID. This
data was available for both 2022 and 2024, as this provides insight into
affiliations of scholars working at certain universities at both time
points. I made a selection of four sociology departments of Dutch
universities, namely Utrecht University (UU), Radboud University (RU),
University of Amsterdam (UvA), and the University of Groningen (RUG).
This selection was based on their partship of the ICS (Interuniversity
Centre for Social Science Theory and Methodology), a cooperation
initiative for social science research. Due to this shared membership,
it would be likely that these four universities collaborate often,
making it an interesting selection to study whether geographical
distance influences these collaborations. In order to analyse changes
within the networks of scholars and to answer my research questions, I
made a distinction between two publication waves, ranging from 2015 to
2019 (wave 1) and 2020 to 2024 (wave 2). The publications within these
waves were the basis for the collaboration networks.</p>
<p>The selection of the two waves of the four universities resulted in a
total sample of 234 scholars (UU, N= 48; RU, N=44; UvA, N=59; RUG, N=67;
16 scholars were not apart of any of these departments at the 2022
measure point). The ‘Data preparation - code’ page in this subtab
provides the code used for the preparation of the data thus far.</p>
<pre class="r test"><code>df_ego %&gt;%
    mutate(University = case_when(str_detect(Universiteit1.22, &quot;RUG&quot;) ~ &quot;RUG&quot;, str_detect(Universiteit1.22,
        &quot;RU&quot;) ~ &quot;RU&quot;, str_detect(Universiteit1.22, &quot;UU&quot;) ~ &quot;UU&quot;, str_detect(Universiteit1.22, &quot;UvA&quot;) ~
        &quot;UvA&quot;, .default = &quot;Not in Department&quot;)) %&gt;%
    count(University) %&gt;%
    fshowdf()</code></pre>
<div
style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
University
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Not in Department
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
RU
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
RUG
</td>
<td style="text-align:right;">
67
</td>
</tr>
<tr>
<td style="text-align:left;">
UU
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
UvA
</td>
<td style="text-align:right;">
59
</td>
</tr>
</tbody>
</table>
</div>
<div id="independent-variable" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Independent
variable</h2>
<p>The independent variable in this study is geographical distance,
which will be treated as a time constant variable. I used travel time by
public transport as a proxy measurement for the geographical distance
between the universities, as I believe this to be a sufficient
measurement due to its similar ‘psychic distance’: a great geographical
distance and long travel time will likely be experienced as the same
felt distance. Additionally, Dutch universities are generally very
accessible by trains and busses and travelling by public transport
allows for working during one’s commute, which is why I think a majority
of scholars will opt to travel by public transport over other forms of
transportation. The travel time in minutes was gathered by estimating
the travel time via the Dutch Railways travel planning website (<a
href="https://www.ns.nl/reisplanner/"
class="uri">https://www.ns.nl/reisplanner/</a>) between each of the
universities, departing at 8AM on the 7th of October 2024. A looping
code was used to match the travel time between the universities to each
scholar and their university of employment. The ‘Matching and looping
travel times - code’ page in this subtab provides the code used for the
preparation and creation of this variable. The map below gives an
overview of the geographical locations of the universities that are
included in this study, as well as the travel times by use of public
transport between each university.</p>
<pre class="r test"><code># Define university coordinates
uni_coords &lt;- data.frame(uni_label = c(&quot;UU&quot;, &quot;RUG&quot;, &quot;UvA&quot;, &quot;RU&quot;), lng = c(5.17143, 6.55749, 4.91259,
    5.8623425), lat = c(52.08446, 53.22225, 52.36321, 51.8192069))

# Define travel times between universities Each row represents &#39;from&#39;, each column represents &#39;to&#39;
map_tt &lt;- data.frame(from = c(&quot;UU&quot;, &quot;UU&quot;, &quot;UU&quot;, &quot;RUG&quot;, &quot;RUG&quot;, &quot;UvA&quot;), to = c(&quot;RUG&quot;, &quot;UvA&quot;, &quot;RU&quot;, &quot;UvA&quot;,
    &quot;RU&quot;, &quot;RU&quot;), time = c(156, 63, 91, 153, 180, 109))</code></pre>
<pre class="r test"><code># Stadia map does not work
map &lt;- leaflet() %&gt;%
    addProviderTiles(provider = &quot;CartoDB.Voyager&quot;) %&gt;%
    setView(lng = 5.2913, lat = 52.1326, zoom = 7.4) %&gt;%
    addMarkers(lng = uni_coords$lng, lat = uni_coords$lat, label = uni_coords$uni_label)

# Loop through travel times to draw lines and add labels
for (i in 1:nrow(map_tt)) {
    from_coords &lt;- uni_coords[uni_coords$uni_label == map_tt$from[i], c(&quot;lng&quot;, &quot;lat&quot;)]
    to_coords &lt;- uni_coords[uni_coords$uni_label == map_tt$to[i], c(&quot;lng&quot;, &quot;lat&quot;)]  #Get coordinates of &#39;from&#39; and &#39;to&#39; universities

    # Draw a straight line between them
    map &lt;- map %&gt;%
        addPolylines(lng = c(from_coords$lng, to_coords$lng), lat = c(from_coords$lat, to_coords$lat),
            color = &quot;blue&quot;, weight = 2, opacity = 0.3)

    # Calculate midpoint for placing the travel time label
    mid_lng &lt;- mean(c(from_coords$lng, to_coords$lng))
    mid_lat &lt;- mean(c(from_coords$lat, to_coords$lat))

    # Add a label showing travel time at the midpoint of the line
    map &lt;- map %&gt;%
        addLabelOnlyMarkers(lng = mid_lng, lat = mid_lat, label = paste(map_tt$time[i], &quot;min&quot;), labelOptions = labelOptions(noHide = TRUE,
            direction = &quot;top&quot;, textOnly = TRUE))
}

map</code></pre>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-80a41d6c84825d7ab031" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-80a41d6c84825d7ab031">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Voyager",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addMarkers","args":[[52.08446,53.22225,52.36321,51.8192069],[5.17143,6.55749,4.91259,5.8623425],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,["UU","RUG","UvA","RU"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[5.17143,6.55749],"lat":[52.08446,53.22225]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[52.653355,5.864459999999999,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"156 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[5.17143,4.91259],"lat":[52.08446,52.36321]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[52.223835,5.042009999999999,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"63 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[5.17143,5.8623425],"lat":[52.08446,51.8192069]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[51.95183345,5.51688625,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"91 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[6.55749,4.91259],"lat":[53.22225,52.36321]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[52.79273000000001,5.73504,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"153 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[6.55749,5.8623425],"lat":[53.22225,51.8192069]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[52.52072845,6.209916249999999,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"180 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[4.91259,5.8623425],"lat":[52.36321,51.8192069]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":2,"opacity":0.3,"fill":false,"fillColor":"blue","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[52.09120845,5.387466249999999,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"109 min",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"className":"","sticky":true},null]}],"setView":[[52.1326,5.2913],7.4,[]],"limits":{"lat":[51.8192069,53.22225],"lng":[4.91259,6.55749]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="dependent-variables" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Dependent
variables</h2>
<ol style="list-style-type: decimal">
<li>Co-authorship / publications</li>
</ol>
<p>The main dependent variable in this study is co-authorship of a
published paper. A tie between scholars is assumed when they co-authored
a paper together. I decided to include directed ties from the first
author, meaning that the first author listed on the publication is
assumed to be the one sending the invitation for collaboration to the
other author(s) on the publication. I made this decision based on the
assumption that first authors are likely to take the lead in the
collaboration process, and thus the one that will generally be expected
to visit co-authors during the collaboration more often than the
co-authors, thus increasing the relative importance of geographical
distance for the likelihood of tie-formation.</p>
<ol start="2" style="list-style-type: decimal">
<li>Gender</li>
</ol>
<p>Gender is not part of the Open Alex data and thus not part of the
initial dataset. Therefore, gender was gathered by the use of
webscraping, a technique to extract information from publicly available
webpages. In this study, I made use of the Gender Scraper developed by
Niels Vullings. In short, this webscrape function gave a score ranging
between ‘0’ and ‘1’ to indicate the proportion of women in the
Netherlands with the same first name, ‘0’ meaning there were no women
with the same name, ‘1’ meaning that all people with the same name are
women.</p>
<pre class="r test"><code>summary(df_ego$perc_female)</code></pre>
<pre class="test2"><code>#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
#&gt;  0.0000  0.0000  0.2400  0.4803  1.0000  1.0000       8</code></pre>
</div>
<div id="ethical-considerations" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Ethical
considerations</h2>
<p>The use of webscraping as a form of data collection often raise some
ethical concern regarding privacy and consent. While a lot of data, like
the data used here, is publicly available, many individuals might not
fully consent to their data being collected and analysed for research
purposes and webscraping thereby violates their expected privacy. As
researchers, we are therefore obligated to conform to terms of service
set on the platform of which the data was obtained, anonymize the data,
and to be thorough and considerate of which data is ethically acceptable
to webscrape.</p>
<hr />
</div>
</div>
<div id="methods" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Methods</h1>
<p>To test the before mentioned hypotheses and thereby answering the
research questions of this study, this study takes a structural
approach. First, a descriptive analysis is done to identify the
structure of the networks. In this first stage, statistics related to
network size, degrees, transitivity, dyad and triad census, and Moran’s
I are analysed. The results of this analyses can be found below. Next,
an exploratory analysis was conducted using RSiena. RSiena (Simulation
Investigation for Empirical Network Analysis) is a computer program fit
for R that performs statistical estimations of the evolution of social
network models, thus suitable for this study (Ripley et al., 2011).</p>
<p>A step wise approach was used to build the models. The null model
will solely contain the reciprocity and density of the network. In Model
1 and 2, covariate effects are added. Model 1 will add dyadic covariate
effects of university affiliation, in Model 2 the actor-level covariate
effects and dyadic covariate effects of gender will be added. In these
models, the structural effects are ignored in order to solely see the
ego-characteristic related effects. The structural effects will be
included in Model 3 to give insight into behavioural patterns within the
network.</p>
</div>
<div id="descriptive-statistics" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Descriptive
statistics</h1>
<div id="network-visualization" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Network
visualization</h2>
<div id="wave-1-2015-2019-vs-wave-2-2020-2024" class="section level3"
number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Wave 1: 2015-2019
vs Wave 2: 2020-2024</h3>
<p>The two graphs below visualize the collaboration networks wihtin the
two waves. It includes all scholars at Sociology departments at
University Utrecht (yellow), Radboud University (red), University of
Amsterdam (darkgreen), and Rijksuniversiteit Groningen/RUG (blue). From
these graphs it becomes apparent that in both waves, there are obvious
clusters of collaboration within universities. Additionally, these
graphs suggest that there is also some form of clustering between
certain universities, where scholars from the same university show a
preference in the universities of scholer with whom they tend to
collaborate.</p>
<pre class="r test"><code>kleurtjes &lt;- ifelse(df_ego$Universiteit1.22 == &quot;UU&quot;, &quot;yellow&quot;, &quot;blue&quot; )
kleurtjes &lt;- ifelse(df_ego$Universiteit1.22 == &quot;RU&quot;, &quot;red&quot;, kleurtjes )
kleurtjes &lt;- ifelse(df_ego$Universiteit1.22 == &quot;UvA&quot;, &quot;darkgreen&quot;, kleurtjes )

#wave 1
unis_w1 &lt;- igraph::graph_from_adjacency_matrix(
  unidata$nets[1,,], #the first wave of data. (thus I select the array of networks and take the first matrix)
  mode = c(&quot;directed&quot;),
  weighted = NULL,
  diag = FALSE,
  add.colnames = NULL,
  add.rownames = NULL
)

#wave 2
unis_w2 &lt;- igraph::graph_from_adjacency_matrix(
  unidata$nets[2,,], #the second wave of data.
  mode = c(&quot;directed&quot;),
  weighted = NULL,
  diag = FALSE,
  add.rownames = NULL
)
 par(mfrow = c(1, 2))
 
#wave 1
plot(unis_w1,
  vertex.label = NA,
  vertex.color = kleurtjes,
  vertex.size = sqrt(igraph::degree(unis_w1))*5,
  edge.width = 0.2,
  edge.arrow.size = 0.2,
  main = &quot;Collaboration network - Wave 1&quot;)

#wave 2
plot(unis_w2,
  vertex.label = NA,
  vertex.color = kleurtjes,
  vertex.size = sqrt(igraph::degree(unis_w2))*5,
  edge.width = 0.2,
  edge.arrow.size = 0.2,
  main = &quot;Collaboration network - Wave 2&quot;)</code></pre>
<p><img src="FJdatamethods2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r test"><code>par(mfrow = c(1, 1))</code></pre>
</div>
<div id="wave-1-2015-2019-vs-wave-2-2020-2024---without-isolates"
class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Wave 1: 2015-2019
vs Wave 2: 2020-2024 - Without isolates</h3>
<p>The two graphs below are similar, but the actors that were isolate
(meaning no ties) in both waves were excluded. Between wave 1 and 2,
many actors that were isolates during wave 1 have since formed ties
during wave 2.</p>
<pre class="r test"><code>par(mfrow = c(1, 2))

# Identify isolates in waves 1 and 2
isolates_w1 &lt;- igraph::V(unis_w1)[igraph::degree(unis_w1) == 0]
isolates_w2 &lt;- igraph::V(unis_w2)[igraph::degree(unis_w2) == 0]

# Find common isolates in both waves
common_isolates &lt;- intersect(isolates_w1, isolates_w2)

# Remove common isolates from waves 1 and 2
unis_w1_clean &lt;- igraph::delete.vertices(unis_w1, common_isolates)
unis_w2_clean &lt;- igraph::delete.vertices(unis_w2, common_isolates)

# wave 1
plot(unis_w1_clean, vertex.label = NA, vertex.color = kleurtjes, vertex.size = sqrt(igraph::degree(unis_w1)) *
    5, edge.width = 0.2, edge.arrow.size = 0.2, main = &quot;Collaboration network - Wave 1&quot;, sub = &quot;no isolates&quot;)

# wave 2
plot(unis_w2_clean, vertex.label = NA, vertex.color = kleurtjes, vertex.size = sqrt(igraph::degree(unis_w2)) *
    5, edge.width = 0.2, edge.arrow.size = 0.2, main = &quot;Collaboration network - Wave 2&quot;, sub = &quot;no isolates&quot;)</code></pre>
<p><img src="FJdatamethods2_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r test"><code>par(mfrow = c(1, 1))</code></pre>
</div>
</div>
<div id="size" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Size</h2>
<p>For the next descriptive analyses, we will look at the full network,
including the isolates. There are a total of 234 scholars in this
network, both in wave 1 and 2. The network in wave 1 contains 145 edges,
reflecting the number of connections between scholars. Wave 2 contains
258 edges, indicating a growth in the density of the network compared to
wave 1.</p>
<pre class="r test"><code># number of nodes
igraph::vcount(unis_w1)</code></pre>
<pre class="test2"><code>#&gt; [1] 234</code></pre>
<pre class="r test"><code># number of edges
igraph::ecount(unis_w1)</code></pre>
<pre class="test2"><code>#&gt; [1] 145</code></pre>
<pre class="r test"><code># number of nodes
igraph::vcount(unis_w2)</code></pre>
<pre class="test2"><code>#&gt; [1] 234</code></pre>
<pre class="r test"><code># number of edges
igraph::ecount(unis_w2)</code></pre>
<pre class="test2"><code>#&gt; [1] 258</code></pre>
</div>
<div id="degrees" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Degrees</h2>
<p>The histograms show the distribution of in-degrees (incoming edges)
in the network of both waves. Degrees can give insight into how many
scholars have few or many incoming connections, which can foreshadow
some aspects of centralization or popularity within the networks.</p>
<pre class="r test"><code># igraph::degree(unis_w1)
hist(table(igraph::degree(unis_w1)), xlab = &quot;indegree&quot;, main = &quot;Histogram of indegree wave 1&quot;)</code></pre>
<p><img src="FJdatamethods2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r test"><code># igraph::degree(unis_w2)
hist(table(igraph::degree(unis_w2)), xlab = &quot;indegree&quot;, main = &quot;Histogram of indegree wave 2&quot;)</code></pre>
<p><img src="FJdatamethods2_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
</div>
<div id="transitivity" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Transitivity</h2>
<p>Transitivity is a measure for the extent to which the actors in the
network tend to cluster together. In the context of this study, it
assesses the likelihood that two connected scholars have a mutual
connection to a third scholar. The probability of a mutual connection to
a third scholar is 0,18 in wave 1 and a little bit lower at 0,17 in wave
2.</p>
<pre class="r test"><code>igraph::transitivity(unis_w1)</code></pre>
<pre class="test2"><code>#&gt; [1] 0.182058</code></pre>
<pre class="r test"><code>igraph::transitivity(unis_w2)</code></pre>
<pre class="test2"><code>#&gt; [1] 0.1723716</code></pre>
</div>
<div id="dyad-census" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Dyad census</h2>
<p>Wave 1 contains a total of 19 reciprocal (two-way) ties, wave 2 a
total of 30. Looking at the assymetic ties, there is a noticable
increase from 107 in wave 1 to 198 in wave 2.</p>
<pre class="r test"><code>igraph::dyad_census(unis_w1)</code></pre>
<pre class="test2"><code>#&gt; $mut
#&gt; [1] 19
#&gt; 
#&gt; $asym
#&gt; [1] 107
#&gt; 
#&gt; $null
#&gt; [1] 27135</code></pre>
<pre class="r test"><code>igraph::dyad_census(unis_w2)</code></pre>
<pre class="test2"><code>#&gt; $mut
#&gt; [1] 30
#&gt; 
#&gt; $asym
#&gt; [1] 198
#&gt; 
#&gt; $null
#&gt; [1] 27033</code></pre>
</div>
<div id="triad-census" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Triad census</h2>
<p>Comparing wave 1 and 2, we can see a few interesting changes: 1. The
occurrence of a a cycle of three nodes where two are reciprocally
connected and one node connects outward to a third is more than doubled
in wave 2.<br />
2. While for almost all triad configurations the occurrence increase in
wave 2, there is one configuration that decreases from 3 to 1:
configuration 120C, a cyclic triad where one of the ties is reciprocal,
the other two are single directed ties. 3. The number of complete triads
(triad configuration 300, meaning that all nodes are reciprocally
connected, each node has ties to the other two in both directions)
increased from 1 to 2.</p>
<pre class="r test"><code>igraph::triad_census(unis_w1)</code></pre>
<pre class="test2"><code>#&gt;  [1] 2079308   24231    4312      50     120      63      47      26      12       0       4       4
#&gt; [13]       1       3       2       1</code></pre>
<pre class="r test"><code>igraph::triad_census(unis_w2)</code></pre>
<pre class="test2"><code>#&gt;  [1] 2056059   44637    6764      93     326      96     123      34      26       0       5       9
#&gt; [13]       5       1       4       2</code></pre>
</div>
<div id="morans-i" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Moran’s I</h2>
<p>Moran’s I is a measurement that is used to determine whether nodes
who are closer to one another in the network are also more alike. In the
context of this study, I analyse whether scholars that are employed at
the same university, also share a similar pattern in collaboration with
scholars from other universities in terms of geographical proximity. For
example, do scholars that are all employed at Radboud University share a
similar collaboration pattern, such as collaborating relatively more
with scholars from Utrecht University compared to the other
universities? Or in other words: Is the network segregated based on
collaboration patterns?</p>
<p>I opted to not rowstandardize in order to capture the absolute rather
than relative influence. This reflects the global structure of the
network more directly, and it allows for an increase in influence when
there are more connections to similar others compared to when there are
just a couple of connections to similar others.</p>
<p>The observed Moran’s I of wave 1 shows a positive and significant
value of 0.32, indicating a moderate degree of clustering of similar
collaboration densities for scholars and similar others. The observed
Moran’s I of wave 2 is also a positive and significant value of 0.82,
indicating high spatial autocorrelation.</p>
<p>The first hypothesis of this study suggests that geographical
proximity influences collaboration patterns of scholars at the Sociology
departments at four Dutch universities. The positive and significant
Moran’s I statistics indicate that scholars show a tendency to form
denser collaborative ties to scholars at universities that are spatially
closer compared to scholars at universities that are spatially further
away. The results of these two Moran’s I statistics provide
corroborating evidence for the first hypothesis.</p>
<pre class="r test"><code># wave 1
require(sna)
geodistances &lt;- geodist(unidata$nets[1, , ], count.paths = TRUE)
geodistances &lt;- geodistances$gdist

# first define a nb based on distance 1.
weights1 &lt;- geodistances == 1

MIw1 &lt;- fMoran.I(travelt_matrix[, 1], scaled = FALSE, weight = weights1, na.rm = TRUE, rowstandardize = FALSE)

MIw1</code></pre>
<pre class="test2"><code>#&gt; $observed
#&gt; [1] 0.3156649
#&gt; 
#&gt; $expected
#&gt; [1] -0.004291845
#&gt; 
#&gt; $sd
#&gt; [1] 0.09402025
#&gt; 
#&gt; $p.value
#&gt; [1] 0.0006663509</code></pre>
<pre class="r test"><code># wave 2
require(sna)
geodistances &lt;- geodist(unidata$nets[2, , ], count.paths = TRUE)
geodistances &lt;- geodistances$gdist

# first define a nb based on distance 1.
weights1 &lt;- geodistances == 1

MIw2 &lt;- fMoran.I(travelt_matrix[, 2], scaled = FALSE, weight = weights1, na.rm = TRUE, rowstandardize = FALSE)

MIw2</code></pre>
<pre class="test2"><code>#&gt; $observed
#&gt; [1] 0.8175808
#&gt; 
#&gt; $expected
#&gt; [1] -0.004291845
#&gt; 
#&gt; $sd
#&gt; [1] 0.06870077
#&gt; 
#&gt; $p.value
#&gt; [1] 0</code></pre>
<p>Hypothesis 2 suggested that the influence of geographical distance on
between university collaboration of Dutch Sociology departments has
increased over time. By comparing the above calculated Moran’s I
statistics, we can test whether the Moran’s I has increased
significantly over time between wave 1 and 2. Based on the test
statistics below, it can be concluded that there is a high and
significant difference between the two waves. The increase in the
Moran’s I suggests that the network autocorrelation has increased over
time. This implies that the network has become more clustered and
similar, which indicates less division based on geographical distance.
Hypothesis 2 is thereby also accepted.</p>
<pre class="r test"><code>psych::paired.r(xy = MIw1$observed, xz = MIw2$observed, n = 100)</code></pre>
<pre class="test2"><code>#&gt; Call: psych::paired.r(xy = MIw1$observed, xz = MIw2$observed, n = 100)
#&gt; [1] &quot;test of difference between two independent correlations&quot;
#&gt; z = 5.73  With probability =  0</code></pre>
</div>
</div>
<div id="references" class="section level1" number="5">
<h1><span class="header-section-number">5</span> References</h1>
<p>Ripley, R. M., Snijders, T. A., Boda, Z., Vörös, A., &amp; Preciado,
P. (2011). Manual for RSIENA. University of Oxford, Department of
Statistics, Nuffield College, 1, 2011.</p>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkRhdGEgJiBtZXRob2RzIg0KYXV0aG9yOiAiYnk6IEZyaWRhIHZhbiBUZWlqbGluZ2VuIg0KYmlibGlvZ3JhcGh5OiByZWZlcmVuY2VzLmJpYg0KLS0tDQoNCmBgYHs9aHRtbH0NCjxzdHlsZT4NCmJvZHkgew0KdGV4dC1hbGlnbjoganVzdGlmeX0NCjwvc3R5bGU+DQpgYGANCg0KIyBTZXQgdXANCmBgYHtyfQ0Kcm0obGlzdCA9IGxzKCkpDQpgYGANCg0KYGBge3Igd2FybmluZz1GQUxTRSwgZ2xvYmFsc2V0dGluZ3MsIGVjaG89RkFMU0UsIHJlc3VsdHM9J2hpZGUnfQ0KDQpsaWJyYXJ5KGtuaXRyKQ0KbGlicmFyeShmb3JtYXRSKQ0KDQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUpDQpvcHRzX2NodW5rJHNldCh0aWR5Lm9wdHM9bGlzdCh3aWR0aC5jdXRvZmY9MTAwKSx0aWR5PVRSVUUsIHdhcm5pbmcgPSBGQUxTRSwgbWVzc2FnZSA9IEZBTFNFLGNvbW1lbnQgPSAiIz4iLCBjYWNoZT1UUlVFLCBjbGFzcy5zb3VyY2U9YygidGVzdCIpLCBjbGFzcy5vdXRwdXQ9YygidGVzdDIiKSkNCm9wdGlvbnMod2lkdGggPSAxMDApDQpyZ2w6OnNldHVwS25pdHIoKQ0KDQoNCmBgYA0KDQpgYGB7ciBrbGlwcHksIGVjaG89RkFMU0UsIGluY2x1ZGU9VFJVRX0NCmtsaXBweTo6a2xpcHB5KHBvc2l0aW9uID0gYygndG9wJywgJ3JpZ2h0JykpDQpgYGANCg0KKioq4oCYT3V0IG9mIHNpZ2h0LCBvdXQgb2YgbWluZDogYSBzb2NpYWwgbmV0d29yayBhcHByb2FjaCB0byBnZW9ncmFwaGljYWwgZGlzdGFuY2UgYW5kIGNvLWF1dGhvcnNoaXAgY29sbGFib3JhdGlvbiBhdCBmb3VyIFNvY2lvbG9neSBkZXBhcnRtZW50cyBpbiB0aGUgTmV0aGVybGFuZHPigJkqKioNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQojIyBGdW5jdGlvbnMNCmBgYHtyfQ0KIy0tLS0gTG9hZGluZyBwYWNrYWdlcyAtLS0tDQpmcGFja2FnZS5jaGVjayA8LSBmdW5jdGlvbihwYWNrYWdlcykgew0KICAgIGxhcHBseShwYWNrYWdlcywgRlVOID0gZnVuY3Rpb24oeCkgew0KICAgICAgICBpZiAoIXJlcXVpcmUoeCwgY2hhcmFjdGVyLm9ubHkgPSBUUlVFKSkgew0KICAgICAgICAgICAgaW5zdGFsbC5wYWNrYWdlcyh4LCBkZXBlbmRlbmNpZXMgPSBUUlVFKQ0KICAgICAgICAgICAgbGlicmFyeSh4LCBjaGFyYWN0ZXIub25seSA9IFRSVUUpDQogICAgICAgIH0NCiAgICB9KQ0KfQ0KDQojLS0tLSBEYXRhIHNhdmluZyAtLS0tDQpmc2F2ZSA8LSBmdW5jdGlvbih4LCBmaWxlID0gTlVMTCwgbG9jYXRpb24gPSAiLi9kYXRhL3Byb2Nlc3NlZC8iKSB7DQogICAgaWZlbHNlKCFkaXIuZXhpc3RzKCJkYXRhIiksIGRpci5jcmVhdGUoImRhdGEiKSwgRkFMU0UpDQogICAgaWZlbHNlKCFkaXIuZXhpc3RzKCJkYXRhL3Byb2Nlc3NlZCIpLCBkaXIuY3JlYXRlKCJkYXRhL3Byb2Nlc3NlZCIpLCBGQUxTRSkNCiAgICBpZiAoaXMubnVsbChmaWxlKSkNCiAgICAgICAgZmlsZSA9IGRlcGFyc2Uoc3Vic3RpdHV0ZSh4KSkNCiAgICBkYXRlbmFtZSA8LSBzdWJzdHIoZ3N1YigiWzotXSIsICIiLCBTeXMudGltZSgpKSwgMSwgOCkNCiAgICB0b3RhbG5hbWUgPC0gcGFzdGUobG9jYXRpb24sIGZpbGUsICJfIiwgZGF0ZW5hbWUsICIucmRhIiwgc2VwID0gIiIpDQogICAgc2F2ZSh4LCBmaWxlID0gdG90YWxuYW1lKSAgI25lZWQgdG8gZml4IGlmIGZpbGUgaXMgcmVsb2FkZWQgYXMgaW5wdXQgbmFtZSwgbm90IGFzIHguIA0KfQ0KDQojLS0tLSBMb2FkaW5nIGluIGRhdGEgLS0tLQ0KZmxvYWQgPC0gZnVuY3Rpb24oZmlsZW5hbWUpIHsNCiAgICBsb2FkKGZpbGVuYW1lKQ0KICAgIGdldChscygpW2xzKCkgIT0gImZpbGVuYW1lIl0pDQp9DQoNCiMtLS0tIE91dHB1dCAtLS0tDQpmc2hvd2RmIDwtIGZ1bmN0aW9uKHgsIC4uLikgew0KICAgIGtuaXRyOjprYWJsZSh4LCBkaWdpdHMgPSAyLCAiaHRtbCIsIC4uLikgJT4lDQogICAgICAgIGthYmxlRXh0cmE6OmthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSBjKCJzdHJpcGVkIiwgImhvdmVyIikpICU+JQ0KICAgICAgICBrYWJsZUV4dHJhOjpzY3JvbGxfYm94KHdpZHRoID0gIjEwMCUiLCBoZWlnaHQgPSAiMzAwcHgiKQ0KfQ0KDQoNCiMtLS0tIE1vcmFuJ3MgSSAtLS0tDQpmTW9yYW4uSSA8LSBmdW5jdGlvbih4LCB3ZWlnaHQsIHNjYWxlZCA9IEZBTFNFLCBuYS5ybSA9IEZBTFNFLCBhbHRlcm5hdGl2ZSA9ICJ0d28uc2lkZWQiLCByb3dzdGFuZGFyZGl6ZSA9IFRSVUUpIHsNCiAgICBpZiAocm93c3RhbmRhcmRpemUpIHsNCiAgICAgICAgaWYgKGRpbSh3ZWlnaHQpWzFdICE9IGRpbSh3ZWlnaHQpWzJdKQ0KICAgICAgICAgICAgc3RvcCgiJ3dlaWdodCcgbXVzdCBiZSBhIHNxdWFyZSBtYXRyaXgiKQ0KICAgICAgICBuIDwtIGxlbmd0aCh4KQ0KICAgICAgICBpZiAoZGltKHdlaWdodClbMV0gIT0gbikNCiAgICAgICAgICAgIHN0b3AoIid3ZWlnaHQnIG11c3QgaGF2ZSBhcyBtYW55IHJvd3MgYXMgb2JzZXJ2YXRpb25zIGluICd4JyIpDQogICAgICAgIGVpIDwtIC0xLyhuIC0gMSkNCiAgICAgICAgbmFzIDwtIGlzLm5hKHgpDQogICAgICAgIGlmIChhbnkobmFzKSkgew0KICAgICAgICAgICAgaWYgKG5hLnJtKSB7DQogICAgICAgICAgICAgICAgeCA8LSB4WyFuYXNdDQogICAgICAgICAgICAgICAgbiA8LSBsZW5ndGgoeCkNCiAgICAgICAgICAgICAgICB3ZWlnaHQgPC0gd2VpZ2h0WyFuYXMsICFuYXNdDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHdhcm5pbmcoIid4JyBoYXMgbWlzc2luZyB2YWx1ZXM6IG1heWJlIHlvdSB3YW50ZWQgdG8gc2V0IG5hLnJtID0gVFJVRT8iKQ0KICAgICAgICAgICAgICAgIHJldHVybihsaXN0KG9ic2VydmVkID0gTkEsIGV4cGVjdGVkID0gZWksIHNkID0gTkEsIHAudmFsdWUgPSBOQSkpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgUk9XU1VNIDwtIHJvd1N1bXMod2VpZ2h0KQ0KICAgICAgICBST1dTVU1bUk9XU1VNID09IDBdIDwtIDENCiAgICAgICAgd2VpZ2h0IDwtIHdlaWdodC9ST1dTVU0NCiAgICAgICAgcyA8LSBzdW0od2VpZ2h0KQ0KICAgICAgICBtIDwtIG1lYW4oeCkNCiAgICAgICAgeSA8LSB4IC0gbQ0KICAgICAgICBjdiA8LSBzdW0od2VpZ2h0ICogeSAlbyUgeSkNCiAgICAgICAgdiA8LSBzdW0oeV4yKQ0KICAgICAgICBvYnMgPC0gKG4vcykgKiAoY3YvdikNCiAgICAgICAgaWYgKHNjYWxlZCkgew0KICAgICAgICAgICAgaS5tYXggPC0gKG4vcykgKiAoc2Qocm93U3Vtcyh3ZWlnaHQpICogeSkvc3FydCh2LyhuIC0gMSkpKQ0KICAgICAgICAgICAgb2JzIDwtIG9icy9pLm1heA0KICAgICAgICB9DQogICAgICAgIFMxIDwtIDAuNSAqIHN1bSgod2VpZ2h0ICsgdCh3ZWlnaHQpKV4yKQ0KICAgICAgICBTMiA8LSBzdW0oKGFwcGx5KHdlaWdodCwgMSwgc3VtKSArIGFwcGx5KHdlaWdodCwgMiwgc3VtKSleMikNCiAgICAgICAgcy5zcSA8LSBzXjINCiAgICAgICAgayA8LSAoc3VtKHleNCkvbikvKHYvbileMg0KICAgICAgICBzZGkgPC0gc3FydCgobiAqICgobl4yIC0gMyAqIG4gKyAzKSAqIFMxIC0gbiAqIFMyICsgMyAqIHMuc3EpIC0gayAqIChuICogKG4gLSAxKSAqIFMxIC0gMiAqIG4gKg0KICAgICAgICAgICAgUzIgKyA2ICogcy5zcSkpLygobiAtIDEpICogKG4gLSAyKSAqIChuIC0gMykgKiBzLnNxKSAtIDEvKChuIC0gMSleMikpDQogICAgICAgIGFsdGVybmF0aXZlIDwtIG1hdGNoLmFyZyhhbHRlcm5hdGl2ZSwgYygidHdvLnNpZGVkIiwgImxlc3MiLCAiZ3JlYXRlciIpKQ0KICAgICAgICBwdiA8LSBwbm9ybShvYnMsIG1lYW4gPSBlaSwgc2QgPSBzZGkpDQogICAgICAgIGlmIChhbHRlcm5hdGl2ZSA9PSAidHdvLnNpZGVkIikNCiAgICAgICAgICAgIHB2IDwtIGlmIChvYnMgPD0gZWkpDQogICAgICAgICAgICAgICAgMiAqIHB2IGVsc2UgMiAqICgxIC0gcHYpDQogICAgICAgIGlmIChhbHRlcm5hdGl2ZSA9PSAiZ3JlYXRlciIpDQogICAgICAgICAgICBwdiA8LSAxIC0gcHYNCiAgICAgICAgbGlzdChvYnNlcnZlZCA9IG9icywgZXhwZWN0ZWQgPSBlaSwgc2QgPSBzZGksIHAudmFsdWUgPSBwdikNCiAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoZGltKHdlaWdodClbMV0gIT0gZGltKHdlaWdodClbMl0pDQogICAgICAgICAgICBzdG9wKCInd2VpZ2h0JyBtdXN0IGJlIGEgc3F1YXJlIG1hdHJpeCIpDQogICAgICAgIG4gPC0gbGVuZ3RoKHgpDQogICAgICAgIGlmIChkaW0od2VpZ2h0KVsxXSAhPSBuKQ0KICAgICAgICAgICAgc3RvcCgiJ3dlaWdodCcgbXVzdCBoYXZlIGFzIG1hbnkgcm93cyBhcyBvYnNlcnZhdGlvbnMgaW4gJ3gnIikNCiAgICAgICAgZWkgPC0gLTEvKG4gLSAxKQ0KICAgICAgICBuYXMgPC0gaXMubmEoeCkNCiAgICAgICAgaWYgKGFueShuYXMpKSB7DQogICAgICAgICAgICBpZiAobmEucm0pIHsNCiAgICAgICAgICAgICAgICB4IDwtIHhbIW5hc10NCiAgICAgICAgICAgICAgICBuIDwtIGxlbmd0aCh4KQ0KICAgICAgICAgICAgICAgIHdlaWdodCA8LSB3ZWlnaHRbIW5hcywgIW5hc10NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgd2FybmluZygiJ3gnIGhhcyBtaXNzaW5nIHZhbHVlczogbWF5YmUgeW91IHdhbnRlZCB0byBzZXQgbmEucm0gPSBUUlVFPyIpDQogICAgICAgICAgICAgICAgcmV0dXJuKGxpc3Qob2JzZXJ2ZWQgPSBOQSwgZXhwZWN0ZWQgPSBlaSwgc2QgPSBOQSwgcC52YWx1ZSA9IE5BKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAjIFJPV1NVTSA8LSByb3dTdW1zKHdlaWdodCkgUk9XU1VNW1JPV1NVTSA9PSAwXSA8LSAxIHdlaWdodCA8LSB3ZWlnaHQvUk9XU1VNDQogICAgICAgIHMgPC0gc3VtKHdlaWdodCkNCiAgICAgICAgbSA8LSBtZWFuKHgpDQogICAgICAgIHkgPC0geCAtIG0NCiAgICAgICAgY3YgPC0gc3VtKHdlaWdodCAqIHkgJW8lIHkpDQogICAgICAgIHYgPC0gc3VtKHleMikNCiAgICAgICAgb2JzIDwtIChuL3MpICogKGN2L3YpDQogICAgICAgIGlmIChzY2FsZWQpIHsNCiAgICAgICAgICAgIGkubWF4IDwtIChuL3MpICogKHNkKHJvd1N1bXMod2VpZ2h0KSAqIHkpL3NxcnQodi8obiAtIDEpKSkNCiAgICAgICAgICAgIG9icyA8LSBvYnMvaS5tYXgNCiAgICAgICAgfQ0KICAgICAgICBTMSA8LSAwLjUgKiBzdW0oKHdlaWdodCArIHQod2VpZ2h0KSleMikNCiAgICAgICAgUzIgPC0gc3VtKChhcHBseSh3ZWlnaHQsIDEsIHN1bSkgKyBhcHBseSh3ZWlnaHQsIDIsIHN1bSkpXjIpDQogICAgICAgIHMuc3EgPC0gc14yDQogICAgICAgIGsgPC0gKHN1bSh5XjQpL24pLyh2L24pXjINCiAgICAgICAgc2RpIDwtIHNxcnQoKG4gKiAoKG5eMiAtIDMgKiBuICsgMykgKiBTMSAtIG4gKiBTMiArIDMgKiBzLnNxKSAtIGsgKiAobiAqIChuIC0gMSkgKiBTMSAtIDIgKiBuICoNCiAgICAgICAgICAgIFMyICsgNiAqIHMuc3EpKS8oKG4gLSAxKSAqIChuIC0gMikgKiAobiAtIDMpICogcy5zcSkgLSAxLygobiAtIDEpXjIpKQ0KICAgICAgICBhbHRlcm5hdGl2ZSA8LSBtYXRjaC5hcmcoYWx0ZXJuYXRpdmUsIGMoInR3by5zaWRlZCIsICJsZXNzIiwgImdyZWF0ZXIiKSkNCiAgICAgICAgcHYgPC0gcG5vcm0ob2JzLCBtZWFuID0gZWksIHNkID0gc2RpKQ0KICAgICAgICBpZiAoYWx0ZXJuYXRpdmUgPT0gInR3by5zaWRlZCIpDQogICAgICAgICAgICBwdiA8LSBpZiAob2JzIDw9IGVpKQ0KICAgICAgICAgICAgICAgIDIgKiBwdiBlbHNlIDIgKiAoMSAtIHB2KQ0KICAgICAgICBpZiAoYWx0ZXJuYXRpdmUgPT0gImdyZWF0ZXIiKQ0KICAgICAgICAgICAgcHYgPC0gMSAtIHB2DQogICAgICAgIGxpc3Qob2JzZXJ2ZWQgPSBvYnMsIGV4cGVjdGVkID0gZWksIHNkID0gc2RpLCBwLnZhbHVlID0gcHYpDQogICAgfQ0KDQoNCn0NCg0KDQpgYGANCg0KIyMgTGlicmFyaWVzDQoNCmBgYHtyLCB3YXJuaW5nPUZBTFNFLCBtZXNzYWdlPUZBTFNFLCByZXN1bHRzPSdoaWRlJ30NCnBhY2thZ2VzIDwtIGMoIlJTaWVuYSIsICJ0aWR5dmVyc2UiLCAic3RyaW5nZGlzdCIsICJzdHJpbmdpIiwgImlncmFwaCIsICJsZWFmbGV0IikNCmZwYWNrYWdlLmNoZWNrKHBhY2thZ2VzKQ0KYGBgDQoNCiMjIExvYWQgaW4gZGF0YQ0KDQpgYGB7cn0NCiNkZl9lZ28NCmRmX2VnbyA8LSBmbG9hZCgiLi9kYXRhL3Byb2Nlc3NlZC9kZl9lZ29fMjAyNDEwMDkucmRhIikNCg0KI2RmX3dvcmtzDQpkZl93b3JrcyA8LSBmbG9hZCgiZGF0YS9wcm9jZXNzZWQvZGZfd29ya3NfMjAyNDEwMDkucmRhIikNCg0KI2RmX2FsbHVuaXMNCnVuaWRhdGEgPC0gZmxvYWQoImRhdGEvcHJvY2Vzc2VkL3VuaWRhdGFfMjAyNDEwMDkucmRhIikNCg0KdHJhdmVsdF9tYXRyaXggPC0gZmxvYWQoImRhdGEvcHJvY2Vzc2VkL3RyYXZlbHRfbWF0cml4XzIwMjQxMDA5LnJkYSIpDQpgYGANCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQojIERhdGENCg0KQWhlYWQgb2YgYW5zd2VyaW5nIHRoZSByZXNlYXJjaCBxdWVzdGlvbnMgbGFpZCBhIHByb2Nlc3Mgb2YgY2xlYW5pbmcgYW5kIHRyYW5zZm9ybWluZyByYXcgZGF0YSBpbnRvIGRhdGEgdGhhdCB3YXMgcmVhZHkgdG8gYmUgYW5hbHlzZWQuIFRoZSBkYXRhc2V0IHByb3ZpZGVkIGFzIHBhcnQgb2YgdGhlIGNvdXJzZSBtYXRlcmlhbCBjb25zaXN0ZWQgb2Ygc2Nob2xhcnMgd2l0aGluIHRoZSBTb2Npb2xvZ3kgYW5kIFBvbGl0aWNhbCBTY2llbmNlIGRlcGFydG1lbnRzIG9mIER1dGNoIHVuaXZlcnNpdGllcy4gVGhpcyBkYXRhIHdhcyBwcmV2aW91c2x5IHdlYnNjcmFwZWQgZnJvbSBPcGVuQWxleCwgYW4gb3BlbiBhY2Nlc3MgYmlibGlvZ3JhcGhpYyBjYXRhbG9ndWUgb2Ygc2NpZW50aWZpYyBwYXBlcnMsIGF1dGhvcnMgYW5kIGluc3RpdHV0aW9ucy4gVGhlIHNjcmFwZWQgZGF0YSBpbmNsdWRlcyBuYW1lcywgdW5pdmVyc2l0eSBvZiBlbXBsb3ltZW50LCBqb2IgZGVzY3JpcHRpb24sIEdvb2dsZSBzY2hvbGFyIElELCBkaXNjaXBsaW5lIGFuZCBPcGVuQWxleCBJRC4gVGhpcyBkYXRhIHdhcyBhdmFpbGFibGUgZm9yIGJvdGggMjAyMiBhbmQgMjAyNCwgYXMgdGhpcyBwcm92aWRlcyBpbnNpZ2h0IGludG8gYWZmaWxpYXRpb25zIG9mIHNjaG9sYXJzIHdvcmtpbmcgYXQgY2VydGFpbiB1bml2ZXJzaXRpZXMgYXQgYm90aCB0aW1lIHBvaW50cy4gSSBtYWRlIGEgc2VsZWN0aW9uIG9mIGZvdXIgc29jaW9sb2d5IGRlcGFydG1lbnRzIG9mIER1dGNoIHVuaXZlcnNpdGllcywgbmFtZWx5IFV0cmVjaHQgVW5pdmVyc2l0eSAoVVUpLCBSYWRib3VkIFVuaXZlcnNpdHkgKFJVKSwgVW5pdmVyc2l0eSBvZiBBbXN0ZXJkYW0gKFV2QSksIGFuZCB0aGUgVW5pdmVyc2l0eSBvZiBHcm9uaW5nZW4gKFJVRykuIFRoaXMgc2VsZWN0aW9uIHdhcyBiYXNlZCBvbiB0aGVpciBwYXJ0c2hpcCBvZiB0aGUgSUNTIChJbnRlcnVuaXZlcnNpdHkgQ2VudHJlIGZvciBTb2NpYWwgU2NpZW5jZSBUaGVvcnkgYW5kIE1ldGhvZG9sb2d5KSwgYSBjb29wZXJhdGlvbiBpbml0aWF0aXZlIGZvciBzb2NpYWwgc2NpZW5jZSByZXNlYXJjaC4gRHVlIHRvIHRoaXMgc2hhcmVkIG1lbWJlcnNoaXAsIGl0IHdvdWxkIGJlIGxpa2VseSB0aGF0IHRoZXNlIGZvdXIgdW5pdmVyc2l0aWVzIGNvbGxhYm9yYXRlIG9mdGVuLCBtYWtpbmcgaXQgYW4gaW50ZXJlc3Rpbmcgc2VsZWN0aW9uIHRvIHN0dWR5IHdoZXRoZXIgZ2VvZ3JhcGhpY2FsIGRpc3RhbmNlIGluZmx1ZW5jZXMgdGhlc2UgY29sbGFib3JhdGlvbnMuIEluIG9yZGVyIHRvIGFuYWx5c2UgY2hhbmdlcyB3aXRoaW4gdGhlIG5ldHdvcmtzIG9mIHNjaG9sYXJzIGFuZCB0byBhbnN3ZXIgbXkgcmVzZWFyY2ggcXVlc3Rpb25zLCBJIG1hZGUgYSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHR3byBwdWJsaWNhdGlvbiB3YXZlcywgcmFuZ2luZyBmcm9tIDIwMTUgdG8gMjAxOSAod2F2ZSAxKSBhbmQgMjAyMCB0byAyMDI0ICh3YXZlIDIpLiBUaGUgcHVibGljYXRpb25zIHdpdGhpbiB0aGVzZSB3YXZlcyB3ZXJlIHRoZSBiYXNpcyBmb3IgdGhlIGNvbGxhYm9yYXRpb24gbmV0d29ya3MuDQoNClRoZSBzZWxlY3Rpb24gb2YgdGhlIHR3byB3YXZlcyBvZiB0aGUgZm91ciB1bml2ZXJzaXRpZXMgcmVzdWx0ZWQgaW4gYSB0b3RhbCBzYW1wbGUgb2YgMjM0IHNjaG9sYXJzIChVVSwgTj0gNDg7IFJVLCBOPTQ0OyBVdkEsIE49NTk7IFJVRywgTj02NzsgMTYgc2Nob2xhcnMgd2VyZSBub3QgYXBhcnQgb2YgYW55IG9mIHRoZXNlIGRlcGFydG1lbnRzIGF0IHRoZSAyMDIyIG1lYXN1cmUgcG9pbnQpLiBUaGUgJ0RhdGEgcHJlcGFyYXRpb24gLSBjb2RlJyBwYWdlIGluIHRoaXMgc3VidGFiIHByb3ZpZGVzIHRoZSBjb2RlIHVzZWQgZm9yIHRoZSBwcmVwYXJhdGlvbiBvZiB0aGUgZGF0YSB0aHVzIGZhci4NCg0KYGBge3J9DQpkZl9lZ28gJT4lDQptdXRhdGUoVW5pdmVyc2l0eSA9IGNhc2Vfd2hlbihzdHJfZGV0ZWN0KFVuaXZlcnNpdGVpdDEuMjIsICJSVUciKSB+ICJSVUciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyX2RldGVjdChVbml2ZXJzaXRlaXQxLjIyLCAiUlUiKSB+ICJSVSIsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyX2RldGVjdChVbml2ZXJzaXRlaXQxLjIyLCAiVVUiKSB+ICJVVSIsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyX2RldGVjdChVbml2ZXJzaXRlaXQxLjIyLCAiVXZBIikgfiAiVXZBIiwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGVmYXVsdCA9ICJOb3QgaW4gRGVwYXJ0bWVudCIpKSAlPiUNCiAgICBjb3VudChVbml2ZXJzaXR5KSAlPiUNCiAgICBmc2hvd2RmKCkNCg0KYGBgDQoNCiMjIEluZGVwZW5kZW50IHZhcmlhYmxlDQoNClRoZSBpbmRlcGVuZGVudCB2YXJpYWJsZSBpbiB0aGlzIHN0dWR5IGlzIGdlb2dyYXBoaWNhbCBkaXN0YW5jZSwgd2hpY2ggd2lsbCBiZSB0cmVhdGVkIGFzIGEgdGltZSBjb25zdGFudCB2YXJpYWJsZS4gSSB1c2VkIHRyYXZlbCB0aW1lIGJ5IHB1YmxpYyB0cmFuc3BvcnQgYXMgYSBwcm94eSBtZWFzdXJlbWVudCBmb3IgdGhlIGdlb2dyYXBoaWNhbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB1bml2ZXJzaXRpZXMsIGFzIEkgYmVsaWV2ZSB0aGlzIHRvIGJlIGEgc3VmZmljaWVudCBtZWFzdXJlbWVudCBkdWUgdG8gaXRzIHNpbWlsYXIg4oCYcHN5Y2hpYyBkaXN0YW5jZeKAmTogYSBncmVhdCBnZW9ncmFwaGljYWwgZGlzdGFuY2UgYW5kIGxvbmcgdHJhdmVsIHRpbWUgd2lsbCBsaWtlbHkgYmUgZXhwZXJpZW5jZWQgYXMgdGhlIHNhbWUgZmVsdCBkaXN0YW5jZS4gQWRkaXRpb25hbGx5LCBEdXRjaCB1bml2ZXJzaXRpZXMgYXJlIGdlbmVyYWxseSB2ZXJ5IGFjY2Vzc2libGUgYnkgdHJhaW5zIGFuZCBidXNzZXMgYW5kIHRyYXZlbGxpbmcgYnkgcHVibGljIHRyYW5zcG9ydCBhbGxvd3MgZm9yIHdvcmtpbmcgZHVyaW5nIG9uZeKAmXMgY29tbXV0ZSwgd2hpY2ggaXMgd2h5IEkgdGhpbmsgYSBtYWpvcml0eSBvZiBzY2hvbGFycyB3aWxsIG9wdCB0byB0cmF2ZWwgYnkgcHVibGljIHRyYW5zcG9ydCBvdmVyIG90aGVyIGZvcm1zIG9mIHRyYW5zcG9ydGF0aW9uLiBUaGUgdHJhdmVsIHRpbWUgaW4gbWludXRlcyB3YXMgZ2F0aGVyZWQgYnkgZXN0aW1hdGluZyB0aGUgdHJhdmVsIHRpbWUgdmlhIHRoZSBEdXRjaCBSYWlsd2F5cyB0cmF2ZWwgcGxhbm5pbmcgd2Vic2l0ZSAoPGh0dHBzOi8vd3d3Lm5zLm5sL3JlaXNwbGFubmVyLz4pIGJldHdlZW4gZWFjaCBvZiB0aGUgdW5pdmVyc2l0aWVzLCBkZXBhcnRpbmcgYXQgOEFNIG9uIHRoZSA3dGggb2YgT2N0b2JlciAyMDI0LiBBIGxvb3BpbmcgY29kZSB3YXMgdXNlZCB0byBtYXRjaCB0aGUgdHJhdmVsIHRpbWUgYmV0d2VlbiB0aGUgdW5pdmVyc2l0aWVzIHRvIGVhY2ggc2Nob2xhciBhbmQgdGhlaXIgdW5pdmVyc2l0eSBvZiBlbXBsb3ltZW50LiBUaGUgJ01hdGNoaW5nIGFuZCBsb29waW5nIHRyYXZlbCB0aW1lcyAtIGNvZGUnIHBhZ2UgaW4gdGhpcyBzdWJ0YWIgcHJvdmlkZXMgdGhlIGNvZGUgdXNlZCBmb3IgdGhlIHByZXBhcmF0aW9uIGFuZCBjcmVhdGlvbiBvZiB0aGlzIHZhcmlhYmxlLg0KVGhlIG1hcCBiZWxvdyBnaXZlcyBhbiBvdmVydmlldyBvZiB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9ucyBvZiB0aGUgdW5pdmVyc2l0aWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoaXMgc3R1ZHksIGFzIHdlbGwgYXMgdGhlIHRyYXZlbCB0aW1lcyBieSB1c2Ugb2YgcHVibGljIHRyYW5zcG9ydCBiZXR3ZWVuIGVhY2ggdW5pdmVyc2l0eS4NCg0KDQpgYGB7cn0NCiMgRGVmaW5lIHVuaXZlcnNpdHkgY29vcmRpbmF0ZXMNCnVuaV9jb29yZHMgPC0gZGF0YS5mcmFtZSgNCiAgdW5pX2xhYmVsID0gYygiVVUiLCAiUlVHIiwgIlV2QSIsICJSVSIpLA0KICBsbmcgPSBjKDUuMTcxNDMwLCA2LjU1NzQ5MCwgNC45MTI1OTAsIDUuODYyMzQyNSksDQogIGxhdCA9IGMoNTIuMDg0NDYwLCA1My4yMjIyNTAsIDUyLjM2MzIxMCwgNTEuODE5MjA2OSkNCikNCg0KIyBEZWZpbmUgdHJhdmVsIHRpbWVzIGJldHdlZW4gdW5pdmVyc2l0aWVzDQojIEVhY2ggcm93IHJlcHJlc2VudHMgImZyb20iLCBlYWNoIGNvbHVtbiByZXByZXNlbnRzICJ0byINCm1hcF90dCA8LSBkYXRhLmZyYW1lKA0KICBmcm9tID0gYygiVVUiLCAiVVUiLCAiVVUiLCAiUlVHIiwgIlJVRyIsICJVdkEiKSwNCiAgdG8gPSBjKCJSVUciLCAiVXZBIiwgIlJVIiwgIlV2QSIsICJSVSIsICJSVSIpLA0KICB0aW1lID0gYygxNTYsIDYzLCA5MSwgMTUzLCAxODAsIDEwOSkNCikNCmBgYA0KDQoNCmBgYHtyfQ0KI1N0YWRpYSBtYXAgZG9lcyBub3Qgd29yaw0KbWFwIDwtIGxlYWZsZXQoKSAlPiUNCiAgYWRkUHJvdmlkZXJUaWxlcyhwcm92aWRlciA9ICJDYXJ0b0RCLlZveWFnZXIiKSAlPiUNCiAgc2V0VmlldyhsbmcgPSA1LjI5MTMsIGxhdCA9IDUyLjEzMjYsIHpvb20gPSA3LjQpICU+JQ0KICBhZGRNYXJrZXJzKA0KICAgIGxuZyA9IHVuaV9jb29yZHMkbG5nLA0KICAgIGxhdCA9IHVuaV9jb29yZHMkbGF0LA0KICAgIGxhYmVsID0gdW5pX2Nvb3JkcyR1bmlfbGFiZWwNCiAgKQ0KDQojTG9vcCB0aHJvdWdoIHRyYXZlbCB0aW1lcyB0byBkcmF3IGxpbmVzIGFuZCBhZGQgbGFiZWxzDQpmb3IgKGkgaW4gMTpucm93KG1hcF90dCkpIHsNCiAgZnJvbV9jb29yZHMgPC0gdW5pX2Nvb3Jkc1t1bmlfY29vcmRzJHVuaV9sYWJlbCA9PSBtYXBfdHQkZnJvbVtpXSwgYygibG5nIiwgImxhdCIpXQ0KICB0b19jb29yZHMgPC0gdW5pX2Nvb3Jkc1t1bmlfY29vcmRzJHVuaV9sYWJlbCA9PSBtYXBfdHQkdG9baV0sIGMoImxuZyIsICJsYXQiKV0gICNHZXQgY29vcmRpbmF0ZXMgb2YgImZyb20iIGFuZCAidG8iIHVuaXZlcnNpdGllcw0KICANCiNEcmF3IGEgc3RyYWlnaHQgbGluZSBiZXR3ZWVuIHRoZW0NCiAgbWFwIDwtIG1hcCAlPiUNCiAgICBhZGRQb2x5bGluZXMoDQogICAgICBsbmcgPSBjKGZyb21fY29vcmRzJGxuZywgdG9fY29vcmRzJGxuZyksDQogICAgICBsYXQgPSBjKGZyb21fY29vcmRzJGxhdCwgdG9fY29vcmRzJGxhdCksDQogICAgICBjb2xvciA9ICJibHVlIiwNCiAgICAgIHdlaWdodCA9IDIsDQogICAgICBvcGFjaXR5ID0gMC4zDQogICAgKQ0KICANCiNDYWxjdWxhdGUgbWlkcG9pbnQgZm9yIHBsYWNpbmcgdGhlIHRyYXZlbCB0aW1lIGxhYmVsDQogIG1pZF9sbmcgPC0gbWVhbihjKGZyb21fY29vcmRzJGxuZywgdG9fY29vcmRzJGxuZykpDQogIG1pZF9sYXQgPC0gbWVhbihjKGZyb21fY29vcmRzJGxhdCwgdG9fY29vcmRzJGxhdCkpDQogIA0KI0FkZCBhIGxhYmVsIHNob3dpbmcgdHJhdmVsIHRpbWUgYXQgdGhlIG1pZHBvaW50IG9mIHRoZSBsaW5lDQogIG1hcCA8LSBtYXAgJT4lDQogICAgYWRkTGFiZWxPbmx5TWFya2VycygNCiAgICAgIGxuZyA9IG1pZF9sbmcsDQogICAgICBsYXQgPSBtaWRfbGF0LA0KICAgICAgbGFiZWwgPSBwYXN0ZShtYXBfdHQkdGltZVtpXSwgIm1pbiIpLA0KICAgICAgbGFiZWxPcHRpb25zID0gbGFiZWxPcHRpb25zKG5vSGlkZSA9IFRSVUUsIGRpcmVjdGlvbiA9ICJ0b3AiLCB0ZXh0T25seSA9IFRSVUUpDQogICAgKQ0KfQ0KDQptYXANCg0KYGBgDQoNCg0KDQoNCg0KDQojIyBEZXBlbmRlbnQgdmFyaWFibGVzDQoNCjEuICBDby1hdXRob3JzaGlwIC8gcHVibGljYXRpb25zIA0KDQpUaGUgbWFpbiBkZXBlbmRlbnQgdmFyaWFibGUgaW4gdGhpcyBzdHVkeSBpcyBjby1hdXRob3JzaGlwIG9mIGEgcHVibGlzaGVkIHBhcGVyLiBBIHRpZSBiZXR3ZWVuIHNjaG9sYXJzIGlzIGFzc3VtZWQgd2hlbiB0aGV5IGNvLWF1dGhvcmVkIGEgcGFwZXIgdG9nZXRoZXIuIEkgZGVjaWRlZCB0byBpbmNsdWRlIGRpcmVjdGVkIHRpZXMgZnJvbSB0aGUgZmlyc3QgYXV0aG9yLCBtZWFuaW5nIHRoYXQgdGhlIGZpcnN0IGF1dGhvciBsaXN0ZWQgb24gdGhlIHB1YmxpY2F0aW9uIGlzIGFzc3VtZWQgdG8gYmUgdGhlIG9uZSBzZW5kaW5nIHRoZSBpbnZpdGF0aW9uIGZvciBjb2xsYWJvcmF0aW9uIHRvIHRoZSBvdGhlciBhdXRob3Iocykgb24gdGhlIHB1YmxpY2F0aW9uLiBJIG1hZGUgdGhpcyBkZWNpc2lvbiBiYXNlZCBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0IGZpcnN0IGF1dGhvcnMgYXJlIGxpa2VseSB0byB0YWtlIHRoZSBsZWFkIGluIHRoZSBjb2xsYWJvcmF0aW9uIHByb2Nlc3MsIGFuZCB0aHVzIHRoZSBvbmUgdGhhdCB3aWxsIGdlbmVyYWxseSBiZSBleHBlY3RlZCB0byB2aXNpdCBjby1hdXRob3JzIGR1cmluZyB0aGUgY29sbGFib3JhdGlvbiBtb3JlIG9mdGVuIHRoYW4gdGhlIGNvLWF1dGhvcnMsIHRodXMgaW5jcmVhc2luZyB0aGUgcmVsYXRpdmUgaW1wb3J0YW5jZSBvZiBnZW9ncmFwaGljYWwgZGlzdGFuY2UgZm9yIHRoZSBsaWtlbGlob29kIG9mIHRpZS1mb3JtYXRpb24uDQoNCg0KDQoyLiAgR2VuZGVyIA0KDQpHZW5kZXIgaXMgbm90IHBhcnQgb2YgdGhlIE9wZW4gQWxleCBkYXRhIGFuZCB0aHVzIG5vdCBwYXJ0IG9mIHRoZSBpbml0aWFsIGRhdGFzZXQuIFRoZXJlZm9yZSwgZ2VuZGVyIHdhcyBnYXRoZXJlZCBieSB0aGUgdXNlIG9mIHdlYnNjcmFwaW5nLCBhIHRlY2huaXF1ZSB0byBleHRyYWN0IGluZm9ybWF0aW9uIGZyb20gcHVibGljbHkgYXZhaWxhYmxlIHdlYnBhZ2VzLiBJbiB0aGlzIHN0dWR5LCBJIG1hZGUgdXNlIG9mIHRoZSBHZW5kZXIgU2NyYXBlciBkZXZlbG9wZWQgYnkgTmllbHMgVnVsbGluZ3MuIEluIHNob3J0LCB0aGlzIHdlYnNjcmFwZSBmdW5jdGlvbiBnYXZlIGEgc2NvcmUgcmFuZ2luZyBiZXR3ZWVuIOKAmDDigJkgYW5kIOKAmDHigJkgdG8gaW5kaWNhdGUgdGhlIHByb3BvcnRpb24gb2Ygd29tZW4gaW4gdGhlIE5ldGhlcmxhbmRzIHdpdGggdGhlIHNhbWUgZmlyc3QgbmFtZSwg4oCYMOKAmSBtZWFuaW5nIHRoZXJlIHdlcmUgbm8gd29tZW4gd2l0aCB0aGUgc2FtZSBuYW1lLCDigJgx4oCZIG1lYW5pbmcgdGhhdCBhbGwgcGVvcGxlIHdpdGggdGhlIHNhbWUgbmFtZSBhcmUgd29tZW4uDQoNCmBgYHtyfQ0Kc3VtbWFyeShkZl9lZ28kcGVyY19mZW1hbGUpDQpgYGANCg0KDQojIyBFdGhpY2FsIGNvbnNpZGVyYXRpb25zDQoNClRoZSB1c2Ugb2Ygd2Vic2NyYXBpbmcgYXMgYSBmb3JtIG9mIGRhdGEgY29sbGVjdGlvbiBvZnRlbiByYWlzZSBzb21lIGV0aGljYWwgY29uY2VybiByZWdhcmRpbmcgcHJpdmFjeSBhbmQgY29uc2VudC4gV2hpbGUgYSBsb3Qgb2YgZGF0YSwgbGlrZSB0aGUgZGF0YSB1c2VkIGhlcmUsIGlzIHB1YmxpY2x5IGF2YWlsYWJsZSwgbWFueSBpbmRpdmlkdWFscyBtaWdodCBub3QgZnVsbHkgY29uc2VudCB0byB0aGVpciBkYXRhIGJlaW5nIGNvbGxlY3RlZCBhbmQgYW5hbHlzZWQgZm9yIHJlc2VhcmNoIHB1cnBvc2VzIGFuZCB3ZWJzY3JhcGluZyB0aGVyZWJ5IHZpb2xhdGVzIHRoZWlyIGV4cGVjdGVkIHByaXZhY3kuIEFzIHJlc2VhcmNoZXJzLCB3ZSBhcmUgdGhlcmVmb3JlIG9ibGlnYXRlZCB0byBjb25mb3JtIHRvIHRlcm1zIG9mIHNlcnZpY2Ugc2V0IG9uIHRoZSBwbGF0Zm9ybSBvZiB3aGljaCB0aGUgZGF0YSB3YXMgb2J0YWluZWQsIGFub255bWl6ZSB0aGUgZGF0YSwgYW5kIHRvIGJlIHRob3JvdWdoIGFuZCBjb25zaWRlcmF0ZSBvZiB3aGljaCBkYXRhIGlzIGV0aGljYWxseSBhY2NlcHRhYmxlIHRvIHdlYnNjcmFwZS4NCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCiMgTWV0aG9kcw0KDQpUbyB0ZXN0IHRoZSBiZWZvcmUgbWVudGlvbmVkIGh5cG90aGVzZXMgYW5kIHRoZXJlYnkgYW5zd2VyaW5nIHRoZSByZXNlYXJjaCBxdWVzdGlvbnMgb2YgdGhpcyBzdHVkeSwgdGhpcyBzdHVkeSB0YWtlcyBhIHN0cnVjdHVyYWwgYXBwcm9hY2guIEZpcnN0LCBhIGRlc2NyaXB0aXZlIGFuYWx5c2lzIGlzIGRvbmUgdG8gaWRlbnRpZnkgdGhlIHN0cnVjdHVyZSBvZiB0aGUgbmV0d29ya3MuIEluIHRoaXMgZmlyc3Qgc3RhZ2UsIHN0YXRpc3RpY3MgcmVsYXRlZCB0byBuZXR3b3JrIHNpemUsIGRlZ3JlZXMsIHRyYW5zaXRpdml0eSwgZHlhZCBhbmQgdHJpYWQgY2Vuc3VzLCBhbmQgTW9yYW7igJlzIEkgYXJlIGFuYWx5c2VkLiBUaGUgcmVzdWx0cyBvZiB0aGlzIGFuYWx5c2VzIGNhbiBiZSBmb3VuZCBiZWxvdy4gTmV4dCwgYW4gZXhwbG9yYXRvcnkgYW5hbHlzaXMgd2FzIGNvbmR1Y3RlZCB1c2luZyBSU2llbmEuIFJTaWVuYSAoU2ltdWxhdGlvbiBJbnZlc3RpZ2F0aW9uIGZvciBFbXBpcmljYWwgTmV0d29yayBBbmFseXNpcykgaXMgYSBjb21wdXRlciBwcm9ncmFtIGZpdCBmb3IgUiB0aGF0IHBlcmZvcm1zIHN0YXRpc3RpY2FsIGVzdGltYXRpb25zIG9mIHRoZSBldm9sdXRpb24gb2Ygc29jaWFsIG5ldHdvcmsgbW9kZWxzLCB0aHVzIHN1aXRhYmxlIGZvciB0aGlzIHN0dWR5IChSaXBsZXkgZXQgYWwuLCAyMDExKS4gDQoNCkEgc3RlcCB3aXNlIGFwcHJvYWNoIHdhcyB1c2VkIHRvIGJ1aWxkIHRoZSBtb2RlbHMuIFRoZSBudWxsIG1vZGVsIHdpbGwgc29sZWx5IGNvbnRhaW4gdGhlIHJlY2lwcm9jaXR5IGFuZCBkZW5zaXR5IG9mIHRoZSBuZXR3b3JrLiBJbiBNb2RlbCAxIGFuZCAyLCBjb3ZhcmlhdGUgZWZmZWN0cyBhcmUgYWRkZWQuIE1vZGVsIDEgd2lsbCBhZGQgZHlhZGljIGNvdmFyaWF0ZSBlZmZlY3RzIG9mIHVuaXZlcnNpdHkgYWZmaWxpYXRpb24sIGluIE1vZGVsIDIgdGhlIGFjdG9yLWxldmVsIGNvdmFyaWF0ZSBlZmZlY3RzIGFuZCBkeWFkaWMgY292YXJpYXRlIGVmZmVjdHMgb2YgZ2VuZGVyIHdpbGwgYmUgYWRkZWQuIEluIHRoZXNlIG1vZGVscywgdGhlIHN0cnVjdHVyYWwgZWZmZWN0cyBhcmUgaWdub3JlZCBpbiBvcmRlciB0byBzb2xlbHkgc2VlIHRoZSBlZ28tY2hhcmFjdGVyaXN0aWMgcmVsYXRlZCBlZmZlY3RzLiBUaGUgc3RydWN0dXJhbCBlZmZlY3RzIHdpbGwgYmUgaW5jbHVkZWQgaW4gTW9kZWwgMyB0byBnaXZlIGluc2lnaHQgaW50byBiZWhhdmlvdXJhbCBwYXR0ZXJucyB3aXRoaW4gdGhlIG5ldHdvcmsuDQoNCg0KDQojIERlc2NyaXB0aXZlIHN0YXRpc3RpY3MNCg0KIyMgTmV0d29yayB2aXN1YWxpemF0aW9uDQoNCiMjIyBXYXZlIDE6IDIwMTUtMjAxOSB2cyBXYXZlIDI6IDIwMjAtMjAyNA0KDQpUaGUgdHdvIGdyYXBocyBiZWxvdyB2aXN1YWxpemUgdGhlIGNvbGxhYm9yYXRpb24gbmV0d29ya3Mgd2lodGluIHRoZSB0d28gd2F2ZXMuIEl0IGluY2x1ZGVzIGFsbCBzY2hvbGFycyBhdCBTb2Npb2xvZ3kgZGVwYXJ0bWVudHMgYXQgVW5pdmVyc2l0eSBVdHJlY2h0ICh5ZWxsb3cpLCBSYWRib3VkIFVuaXZlcnNpdHkgKHJlZCksIFVuaXZlcnNpdHkgb2YgQW1zdGVyZGFtIChkYXJrZ3JlZW4pLCBhbmQgUmlqa3N1bml2ZXJzaXRlaXQgR3JvbmluZ2VuL1JVRyAoYmx1ZSkuIEZyb20gdGhlc2UgZ3JhcGhzIGl0IGJlY29tZXMgYXBwYXJlbnQgdGhhdCBpbiBib3RoIHdhdmVzLCB0aGVyZSBhcmUgb2J2aW91cyBjbHVzdGVycyBvZiBjb2xsYWJvcmF0aW9uIHdpdGhpbiB1bml2ZXJzaXRpZXMuIEFkZGl0aW9uYWxseSwgdGhlc2UgZ3JhcGhzIHN1Z2dlc3QgdGhhdCB0aGVyZSBpcyBhbHNvIHNvbWUgZm9ybSBvZiBjbHVzdGVyaW5nIGJldHdlZW4gY2VydGFpbiB1bml2ZXJzaXRpZXMsIHdoZXJlIHNjaG9sYXJzIGZyb20gdGhlIHNhbWUgdW5pdmVyc2l0eSBzaG93IGEgcHJlZmVyZW5jZSBpbiB0aGUgdW5pdmVyc2l0aWVzIG9mIHNjaG9sZXIgd2l0aCB3aG9tIHRoZXkgdGVuZCB0byBjb2xsYWJvcmF0ZS4NCg0KYGBge3J9DQoNCmtsZXVydGplcyA8LSBpZmVsc2UoZGZfZWdvJFVuaXZlcnNpdGVpdDEuMjIgPT0gIlVVIiwgInllbGxvdyIsICJibHVlIiApDQprbGV1cnRqZXMgPC0gaWZlbHNlKGRmX2VnbyRVbml2ZXJzaXRlaXQxLjIyID09ICJSVSIsICJyZWQiLCBrbGV1cnRqZXMgKQ0Ka2xldXJ0amVzIDwtIGlmZWxzZShkZl9lZ28kVW5pdmVyc2l0ZWl0MS4yMiA9PSAiVXZBIiwgImRhcmtncmVlbiIsIGtsZXVydGplcyApDQoNCiN3YXZlIDENCnVuaXNfdzEgPC0gaWdyYXBoOjpncmFwaF9mcm9tX2FkamFjZW5jeV9tYXRyaXgoDQogIHVuaWRhdGEkbmV0c1sxLCxdLCAjdGhlIGZpcnN0IHdhdmUgb2YgZGF0YS4gKHRodXMgSSBzZWxlY3QgdGhlIGFycmF5IG9mIG5ldHdvcmtzIGFuZCB0YWtlIHRoZSBmaXJzdCBtYXRyaXgpDQogIG1vZGUgPSBjKCJkaXJlY3RlZCIpLA0KICB3ZWlnaHRlZCA9IE5VTEwsDQogIGRpYWcgPSBGQUxTRSwNCiAgYWRkLmNvbG5hbWVzID0gTlVMTCwNCiAgYWRkLnJvd25hbWVzID0gTlVMTA0KKQ0KDQojd2F2ZSAyDQp1bmlzX3cyIDwtIGlncmFwaDo6Z3JhcGhfZnJvbV9hZGphY2VuY3lfbWF0cml4KA0KICB1bmlkYXRhJG5ldHNbMiwsXSwgI3RoZSBzZWNvbmQgd2F2ZSBvZiBkYXRhLg0KICBtb2RlID0gYygiZGlyZWN0ZWQiKSwNCiAgd2VpZ2h0ZWQgPSBOVUxMLA0KICBkaWFnID0gRkFMU0UsDQogIGFkZC5yb3duYW1lcyA9IE5VTEwNCikNCiBwYXIobWZyb3cgPSBjKDEsIDIpKQ0KIA0KI3dhdmUgMQ0KcGxvdCh1bmlzX3cxLA0KICB2ZXJ0ZXgubGFiZWwgPSBOQSwNCiAgdmVydGV4LmNvbG9yID0ga2xldXJ0amVzLA0KICB2ZXJ0ZXguc2l6ZSA9IHNxcnQoaWdyYXBoOjpkZWdyZWUodW5pc193MSkpKjUsDQogIGVkZ2Uud2lkdGggPSAwLjIsDQogIGVkZ2UuYXJyb3cuc2l6ZSA9IDAuMiwNCiAgbWFpbiA9ICJDb2xsYWJvcmF0aW9uIG5ldHdvcmsgLSBXYXZlIDEiKQ0KDQojd2F2ZSAyDQpwbG90KHVuaXNfdzIsDQogIHZlcnRleC5sYWJlbCA9IE5BLA0KICB2ZXJ0ZXguY29sb3IgPSBrbGV1cnRqZXMsDQogIHZlcnRleC5zaXplID0gc3FydChpZ3JhcGg6OmRlZ3JlZSh1bmlzX3cyKSkqNSwNCiAgZWRnZS53aWR0aCA9IDAuMiwNCiAgZWRnZS5hcnJvdy5zaXplID0gMC4yLA0KICBtYWluID0gIkNvbGxhYm9yYXRpb24gbmV0d29yayAtIFdhdmUgMiIpDQoNCg0KcGFyKG1mcm93ID0gYygxLCAxKSkNCmBgYA0KDQojIyMgV2F2ZSAxOiAyMDE1LTIwMTkgdnMgV2F2ZSAyOiAyMDIwLTIwMjQgLSBXaXRob3V0IGlzb2xhdGVzDQoNClRoZSB0d28gZ3JhcGhzIGJlbG93IGFyZSBzaW1pbGFyLCBidXQgdGhlIGFjdG9ycyB0aGF0IHdlcmUgaXNvbGF0ZSAobWVhbmluZyBubyB0aWVzKSBpbiBib3RoIHdhdmVzIHdlcmUgZXhjbHVkZWQuIEJldHdlZW4gd2F2ZSAxIGFuZCAyLCBtYW55IGFjdG9ycyB0aGF0IHdlcmUgaXNvbGF0ZXMgZHVyaW5nIHdhdmUgMSBoYXZlIHNpbmNlIGZvcm1lZCB0aWVzIGR1cmluZyB3YXZlIDIuDQoNCmBgYHtyfQ0KIHBhcihtZnJvdyA9IGMoMSwgMikpDQoNCiMgSWRlbnRpZnkgaXNvbGF0ZXMgaW4gd2F2ZXMgMSBhbmQgMg0KaXNvbGF0ZXNfdzEgPC0gaWdyYXBoOjpWKHVuaXNfdzEpW2lncmFwaDo6ZGVncmVlKHVuaXNfdzEpID09IDBdDQppc29sYXRlc193MiA8LSBpZ3JhcGg6OlYodW5pc193MilbaWdyYXBoOjpkZWdyZWUodW5pc193MikgPT0gMF0NCg0KIyBGaW5kIGNvbW1vbiBpc29sYXRlcyBpbiBib3RoIHdhdmVzDQpjb21tb25faXNvbGF0ZXMgPC0gaW50ZXJzZWN0KGlzb2xhdGVzX3cxLCBpc29sYXRlc193MikNCg0KIyBSZW1vdmUgY29tbW9uIGlzb2xhdGVzIGZyb20gd2F2ZXMgMSBhbmQgMg0KdW5pc193MV9jbGVhbiA8LSBpZ3JhcGg6OmRlbGV0ZS52ZXJ0aWNlcyh1bmlzX3cxLCBjb21tb25faXNvbGF0ZXMpDQp1bmlzX3cyX2NsZWFuIDwtIGlncmFwaDo6ZGVsZXRlLnZlcnRpY2VzKHVuaXNfdzIsIGNvbW1vbl9pc29sYXRlcykNCiANCiN3YXZlIDENCnBsb3QodW5pc193MV9jbGVhbiwNCiAgdmVydGV4LmxhYmVsID0gTkEsDQogIHZlcnRleC5jb2xvciA9IGtsZXVydGplcywNCiAgdmVydGV4LnNpemUgPSBzcXJ0KGlncmFwaDo6ZGVncmVlKHVuaXNfdzEpKSo1LA0KICBlZGdlLndpZHRoID0gMC4yLA0KICBlZGdlLmFycm93LnNpemUgPTAuMiwNCiAgbWFpbiA9ICJDb2xsYWJvcmF0aW9uIG5ldHdvcmsgLSBXYXZlIDEiLA0KICBzdWIgPSAibm8gaXNvbGF0ZXMiKQ0KDQojd2F2ZSAyDQpwbG90KHVuaXNfdzJfY2xlYW4sDQogIHZlcnRleC5sYWJlbCA9IE5BLA0KICB2ZXJ0ZXguY29sb3IgPSBrbGV1cnRqZXMsDQogIHZlcnRleC5zaXplID0gc3FydChpZ3JhcGg6OmRlZ3JlZSh1bmlzX3cyKSkqNSwNCiAgZWRnZS53aWR0aCA9IDAuMiwNCiAgZWRnZS5hcnJvdy5zaXplID0wLjIsDQogIG1haW4gPSAiQ29sbGFib3JhdGlvbiBuZXR3b3JrIC0gV2F2ZSAyIiwNCiAgc3ViID0gIm5vIGlzb2xhdGVzIikNCg0KDQoNCnBhcihtZnJvdyA9IGMoMSwgMSkpDQoNCmBgYA0KDQojIyBTaXplDQoNCkZvciB0aGUgbmV4dCBkZXNjcmlwdGl2ZSBhbmFseXNlcywgd2Ugd2lsbCBsb29rIGF0IHRoZSBmdWxsIG5ldHdvcmssIGluY2x1ZGluZyB0aGUgaXNvbGF0ZXMuIFRoZXJlIGFyZSBhIHRvdGFsIG9mIDIzNCBzY2hvbGFycyBpbiB0aGlzIG5ldHdvcmssIGJvdGggaW4gd2F2ZSAxIGFuZCAyLiBUaGUgbmV0d29yayBpbiB3YXZlIDEgY29udGFpbnMgMTQ1IGVkZ2VzLCByZWZsZWN0aW5nIHRoZSBudW1iZXIgb2YgY29ubmVjdGlvbnMgYmV0d2VlbiBzY2hvbGFycy4gV2F2ZSAyIGNvbnRhaW5zIDI1OCBlZGdlcywgaW5kaWNhdGluZyBhIGdyb3d0aCBpbiB0aGUgZGVuc2l0eSBvZiB0aGUgbmV0d29yayBjb21wYXJlZCB0byB3YXZlIDEuDQoNCmBgYHtyfQ0KIyBudW1iZXIgb2Ygbm9kZXMNCmlncmFwaDo6dmNvdW50KHVuaXNfdzEpDQojIG51bWJlciBvZiBlZGdlcw0KaWdyYXBoOjplY291bnQodW5pc193MSkNCg0KIyBudW1iZXIgb2Ygbm9kZXMNCmlncmFwaDo6dmNvdW50KHVuaXNfdzIpDQojIG51bWJlciBvZiBlZGdlcw0KaWdyYXBoOjplY291bnQodW5pc193MikNCmBgYA0KDQojIyBEZWdyZWVzDQoNClRoZSBoaXN0b2dyYW1zIHNob3cgdGhlIGRpc3RyaWJ1dGlvbiBvZiBpbi1kZWdyZWVzIChpbmNvbWluZyBlZGdlcykgaW4gdGhlIG5ldHdvcmsgb2YgYm90aCB3YXZlcy4gRGVncmVlcyBjYW4gZ2l2ZSBpbnNpZ2h0IGludG8gaG93IG1hbnkgc2Nob2xhcnMgaGF2ZSBmZXcgb3IgbWFueSBpbmNvbWluZyBjb25uZWN0aW9ucywgd2hpY2ggY2FuIGZvcmVzaGFkb3cgc29tZSBhc3BlY3RzIG9mIGNlbnRyYWxpemF0aW9uIG9yIHBvcHVsYXJpdHkgd2l0aGluIHRoZSBuZXR3b3Jrcy4NCg0KYGBge3J9DQojaWdyYXBoOjpkZWdyZWUodW5pc193MSkNCmhpc3QodGFibGUoaWdyYXBoOjpkZWdyZWUodW5pc193MSkpLCB4bGFiPSdpbmRlZ3JlZScsIG1haW49ICdIaXN0b2dyYW0gb2YgaW5kZWdyZWUgd2F2ZSAxJykNCg0KI2lncmFwaDo6ZGVncmVlKHVuaXNfdzIpDQpoaXN0KHRhYmxlKGlncmFwaDo6ZGVncmVlKHVuaXNfdzIpKSwgeGxhYj0naW5kZWdyZWUnLCBtYWluPSAnSGlzdG9ncmFtIG9mIGluZGVncmVlIHdhdmUgMicpDQpgYGANCg0KIyMgVHJhbnNpdGl2aXR5DQoNClRyYW5zaXRpdml0eSBpcyBhIG1lYXN1cmUgZm9yIHRoZSBleHRlbnQgdG8gd2hpY2ggdGhlIGFjdG9ycyBpbiB0aGUgbmV0d29yayB0ZW5kIHRvIGNsdXN0ZXIgdG9nZXRoZXIuIEluIHRoZSBjb250ZXh0IG9mIHRoaXMgc3R1ZHksIGl0IGFzc2Vzc2VzIHRoZSBsaWtlbGlob29kIHRoYXQgdHdvIGNvbm5lY3RlZCBzY2hvbGFycyBoYXZlIGEgbXV0dWFsIGNvbm5lY3Rpb24gdG8gYSB0aGlyZCBzY2hvbGFyLiBUaGUgcHJvYmFiaWxpdHkgb2YgYSBtdXR1YWwgY29ubmVjdGlvbiB0byBhIHRoaXJkIHNjaG9sYXIgaXMgMCwxOCBpbiB3YXZlIDEgYW5kIGEgbGl0dGxlIGJpdCBsb3dlciBhdCAwLDE3IGluIHdhdmUgMi4NCg0KYGBge3J9DQppZ3JhcGg6OnRyYW5zaXRpdml0eSh1bmlzX3cxKQ0KaWdyYXBoOjp0cmFuc2l0aXZpdHkodW5pc193MikNCmBgYA0KDQojIyBEeWFkIGNlbnN1cw0KDQpXYXZlIDEgY29udGFpbnMgYSB0b3RhbCBvZiAxOSByZWNpcHJvY2FsICh0d28td2F5KSB0aWVzLCB3YXZlIDIgYSB0b3RhbCBvZiAzMC4gTG9va2luZyBhdCB0aGUgYXNzeW1ldGljIHRpZXMsIHRoZXJlIGlzIGEgbm90aWNhYmxlIGluY3JlYXNlIGZyb20gMTA3IGluIHdhdmUgMSB0byAxOTggaW4gd2F2ZSAyLg0KDQpgYGB7cn0NCmlncmFwaDo6ZHlhZF9jZW5zdXModW5pc193MSkNCmlncmFwaDo6ZHlhZF9jZW5zdXModW5pc193MikNCmBgYA0KDQojIyBUcmlhZCBjZW5zdXMNCg0KQ29tcGFyaW5nIHdhdmUgMSBhbmQgMiwgd2UgY2FuIHNlZSBhIGZldyBpbnRlcmVzdGluZyBjaGFuZ2VzOiAxLiBUaGUgb2NjdXJyZW5jZSBvZiBhIGEgY3ljbGUgb2YgdGhyZWUgbm9kZXMgd2hlcmUgdHdvIGFyZSByZWNpcHJvY2FsbHkgY29ubmVjdGVkIGFuZCBvbmUgbm9kZSBjb25uZWN0cyBvdXR3YXJkIHRvIGEgdGhpcmQgaXMgbW9yZSB0aGFuIGRvdWJsZWQgaW4gd2F2ZSAyLlwNCjIuIFdoaWxlIGZvciBhbG1vc3QgYWxsIHRyaWFkIGNvbmZpZ3VyYXRpb25zIHRoZSBvY2N1cnJlbmNlIGluY3JlYXNlIGluIHdhdmUgMiwgdGhlcmUgaXMgb25lIGNvbmZpZ3VyYXRpb24gdGhhdCBkZWNyZWFzZXMgZnJvbSAzIHRvIDE6IGNvbmZpZ3VyYXRpb24gMTIwQywgYSBjeWNsaWMgdHJpYWQgd2hlcmUgb25lIG9mIHRoZSB0aWVzIGlzIHJlY2lwcm9jYWwsIHRoZSBvdGhlciB0d28gYXJlIHNpbmdsZSBkaXJlY3RlZCB0aWVzLiAzLiBUaGUgbnVtYmVyIG9mIGNvbXBsZXRlIHRyaWFkcyAodHJpYWQgY29uZmlndXJhdGlvbiAzMDAsIG1lYW5pbmcgdGhhdCBhbGwgbm9kZXMgYXJlIHJlY2lwcm9jYWxseSBjb25uZWN0ZWQsIGVhY2ggbm9kZSBoYXMgdGllcyB0byB0aGUgb3RoZXIgdHdvIGluIGJvdGggZGlyZWN0aW9ucykgaW5jcmVhc2VkIGZyb20gMSB0byAyLg0KDQpgYGB7cn0NCmlncmFwaDo6dHJpYWRfY2Vuc3VzKHVuaXNfdzEpDQpgYGANCg0KYGBge3J9DQppZ3JhcGg6OnRyaWFkX2NlbnN1cyh1bmlzX3cyKQ0KYGBgDQoNCiMjIE1vcmFu4oCZcyBJDQoNCk1vcmFuJ3MgSSBpcyBhIG1lYXN1cmVtZW50IHRoYXQgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBub2RlcyB3aG8gYXJlIGNsb3NlciB0byBvbmUgYW5vdGhlciBpbiB0aGUgbmV0d29yayBhcmUgYWxzbyBtb3JlIGFsaWtlLiBJbiB0aGUgY29udGV4dCBvZiB0aGlzIHN0dWR5LCBJIGFuYWx5c2Ugd2hldGhlciBzY2hvbGFycyB0aGF0IGFyZSBlbXBsb3llZCBhdCB0aGUgc2FtZSB1bml2ZXJzaXR5LCBhbHNvIHNoYXJlIGEgc2ltaWxhciBwYXR0ZXJuIGluIGNvbGxhYm9yYXRpb24gd2l0aCBzY2hvbGFycyBmcm9tIG90aGVyIHVuaXZlcnNpdGllcyBpbiB0ZXJtcyBvZiBnZW9ncmFwaGljYWwgcHJveGltaXR5LiBGb3IgZXhhbXBsZSwgZG8gc2Nob2xhcnMgdGhhdCBhcmUgYWxsIGVtcGxveWVkIGF0IFJhZGJvdWQgVW5pdmVyc2l0eSBzaGFyZSBhIHNpbWlsYXIgY29sbGFib3JhdGlvbiBwYXR0ZXJuLCBzdWNoIGFzIGNvbGxhYm9yYXRpbmcgcmVsYXRpdmVseSBtb3JlIHdpdGggc2Nob2xhcnMgZnJvbSBVdHJlY2h0IFVuaXZlcnNpdHkgY29tcGFyZWQgdG8gdGhlIG90aGVyIHVuaXZlcnNpdGllcz8gT3IgaW4gb3RoZXIgd29yZHM6IElzIHRoZSBuZXR3b3JrIHNlZ3JlZ2F0ZWQgYmFzZWQgb24gY29sbGFib3JhdGlvbiBwYXR0ZXJucz8NCg0KSSBvcHRlZCB0byBub3Qgcm93c3RhbmRhcmRpemUgaW4gb3JkZXIgdG8gY2FwdHVyZSB0aGUgYWJzb2x1dGUgcmF0aGVyIHRoYW4gcmVsYXRpdmUgaW5mbHVlbmNlLiBUaGlzIHJlZmxlY3RzIHRoZSBnbG9iYWwgc3RydWN0dXJlIG9mIHRoZSBuZXR3b3JrIG1vcmUgZGlyZWN0bHksIGFuZCBpdCBhbGxvd3MgZm9yIGFuIGluY3JlYXNlIGluIGluZmx1ZW5jZSB3aGVuIHRoZXJlIGFyZSBtb3JlIGNvbm5lY3Rpb25zIHRvIHNpbWlsYXIgb3RoZXJzIGNvbXBhcmVkIHRvIHdoZW4gdGhlcmUgYXJlIGp1c3QgYSBjb3VwbGUgb2YgY29ubmVjdGlvbnMgdG8gc2ltaWxhciBvdGhlcnMuDQoNClRoZSBvYnNlcnZlZCBNb3JhbidzIEkgb2Ygd2F2ZSAxIHNob3dzIGEgcG9zaXRpdmUgYW5kIHNpZ25pZmljYW50IHZhbHVlIG9mIDAuMzIsIGluZGljYXRpbmcgYSBtb2RlcmF0ZSBkZWdyZWUgb2YgY2x1c3RlcmluZyBvZiBzaW1pbGFyIGNvbGxhYm9yYXRpb24gZGVuc2l0aWVzIGZvciBzY2hvbGFycyBhbmQgc2ltaWxhciBvdGhlcnMuIFRoZSBvYnNlcnZlZCBNb3JhbidzIEkgb2Ygd2F2ZSAyIGlzIGFsc28gYSBwb3NpdGl2ZSBhbmQgc2lnbmlmaWNhbnQgdmFsdWUgb2YgMC44MiwgaW5kaWNhdGluZyBoaWdoIHNwYXRpYWwgYXV0b2NvcnJlbGF0aW9uLg0KDQpUaGUgZmlyc3QgaHlwb3RoZXNpcyBvZiB0aGlzIHN0dWR5IHN1Z2dlc3RzIHRoYXQgZ2VvZ3JhcGhpY2FsIHByb3hpbWl0eSBpbmZsdWVuY2VzIGNvbGxhYm9yYXRpb24gcGF0dGVybnMgb2Ygc2Nob2xhcnMgYXQgdGhlIFNvY2lvbG9neSBkZXBhcnRtZW50cyBhdCBmb3VyIER1dGNoIHVuaXZlcnNpdGllcy4gVGhlIHBvc2l0aXZlIGFuZCBzaWduaWZpY2FudCBNb3JhbidzIEkgc3RhdGlzdGljcyBpbmRpY2F0ZSB0aGF0IHNjaG9sYXJzIHNob3cgYSB0ZW5kZW5jeSB0byBmb3JtIGRlbnNlciBjb2xsYWJvcmF0aXZlIHRpZXMgdG8gc2Nob2xhcnMgYXQgdW5pdmVyc2l0aWVzIHRoYXQgYXJlIHNwYXRpYWxseSBjbG9zZXIgY29tcGFyZWQgdG8gc2Nob2xhcnMgYXQgdW5pdmVyc2l0aWVzIHRoYXQgYXJlIHNwYXRpYWxseSBmdXJ0aGVyIGF3YXkuIFRoZSByZXN1bHRzIG9mIHRoZXNlIHR3byBNb3JhbidzIEkgc3RhdGlzdGljcyBwcm92aWRlIGNvcnJvYm9yYXRpbmcgZXZpZGVuY2UgZm9yIHRoZSBmaXJzdCBoeXBvdGhlc2lzLiANCg0KYGBge3J9DQojd2F2ZSAxDQpyZXF1aXJlKHNuYSkNCmdlb2Rpc3RhbmNlcyA8LSBnZW9kaXN0KHVuaWRhdGEkbmV0c1sxLCxdLCBjb3VudC5wYXRocyA9IFRSVUUpDQpnZW9kaXN0YW5jZXMgPC0gZ2VvZGlzdGFuY2VzJGdkaXN0DQoNCiMgZmlyc3QgZGVmaW5lIGEgbmIgYmFzZWQgb24gZGlzdGFuY2UgMS4NCndlaWdodHMxIDwtIGdlb2Rpc3RhbmNlcyA9PSAxDQoNCk1JdzEgPC0gZk1vcmFuLkkodHJhdmVsdF9tYXRyaXggWywgMV0sIHNjYWxlZCA9IEZBTFNFLCB3ZWlnaHQgPSB3ZWlnaHRzMSwgbmEucm0gPSBUUlVFLCByb3dzdGFuZGFyZGl6ZSA9IEZBTFNFKQ0KDQpNSXcxDQpgYGANCg0KYGBge3J9DQojd2F2ZSAyDQpyZXF1aXJlKHNuYSkNCmdlb2Rpc3RhbmNlcyA8LSBnZW9kaXN0KHVuaWRhdGEkbmV0c1syLCxdLCBjb3VudC5wYXRocyA9IFRSVUUpDQpnZW9kaXN0YW5jZXMgPC0gZ2VvZGlzdGFuY2VzJGdkaXN0DQoNCiMgZmlyc3QgZGVmaW5lIGEgbmIgYmFzZWQgb24gZGlzdGFuY2UgMS4NCndlaWdodHMxIDwtIGdlb2Rpc3RhbmNlcyA9PSAxDQoNCk1JdzIgPC0gZk1vcmFuLkkodHJhdmVsdF9tYXRyaXggWywgMl0sIHNjYWxlZCA9IEZBTFNFLCB3ZWlnaHQgPSB3ZWlnaHRzMSwgbmEucm0gPSBUUlVFLCByb3dzdGFuZGFyZGl6ZSA9IEZBTFNFKQ0KDQpNSXcyDQpgYGANCg0KSHlwb3RoZXNpcyAyIHN1Z2dlc3RlZCB0aGF0IHRoZSBpbmZsdWVuY2Ugb2YgZ2VvZ3JhcGhpY2FsIGRpc3RhbmNlIG9uIGJldHdlZW4gdW5pdmVyc2l0eSBjb2xsYWJvcmF0aW9uIG9mIER1dGNoIFNvY2lvbG9neSBkZXBhcnRtZW50cyBoYXMgaW5jcmVhc2VkIG92ZXIgdGltZS4gQnkgY29tcGFyaW5nIHRoZSBhYm92ZSBjYWxjdWxhdGVkIE1vcmFuJ3MgSSBzdGF0aXN0aWNzLCB3ZSBjYW4gdGVzdCB3aGV0aGVyIHRoZSBNb3JhbidzIEkgaGFzIGluY3JlYXNlZCBzaWduaWZpY2FudGx5IG92ZXIgdGltZSBiZXR3ZWVuIHdhdmUgMSBhbmQgMi4gQmFzZWQgb24gdGhlIHRlc3Qgc3RhdGlzdGljcyBiZWxvdywgaXQgY2FuIGJlIGNvbmNsdWRlZCB0aGF0IHRoZXJlIGlzIGEgaGlnaCBhbmQgc2lnbmlmaWNhbnQgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gd2F2ZXMuIFRoZSBpbmNyZWFzZSBpbiB0aGUgTW9yYW4ncyBJIHN1Z2dlc3RzIHRoYXQgdGhlIG5ldHdvcmsgYXV0b2NvcnJlbGF0aW9uIGhhcyBpbmNyZWFzZWQgb3ZlciB0aW1lLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgbmV0d29yayBoYXMgYmVjb21lIG1vcmUgY2x1c3RlcmVkIGFuZCBzaW1pbGFyLCB3aGljaCBpbmRpY2F0ZXMgbGVzcyBkaXZpc2lvbiBiYXNlZCBvbiBnZW9ncmFwaGljYWwgZGlzdGFuY2UuIEh5cG90aGVzaXMgMiBpcyB0aGVyZWJ5IGFsc28gYWNjZXB0ZWQuDQoNCmBgYHtyfQ0KcHN5Y2g6OnBhaXJlZC5yKHh5PSBNSXcxJG9ic2VydmVkLCB4ej0gTUl3MiRvYnNlcnZlZCwgbiA9IDEwMCkNCmBgYA0KDQojIFJlZmVyZW5jZXMNClJpcGxleSwgUi4gTS4sIFNuaWpkZXJzLCBULiBBLiwgQm9kYSwgWi4sIFbDtnLDtnMsIEEuLCAmIFByZWNpYWRvLCBQLiAoMjAxMSkuIE1hbnVhbCBmb3IgUlNJRU5BLiBVbml2ZXJzaXR5IG9mIE94Zm9yZCwgRGVwYXJ0bWVudCBvZiBTdGF0aXN0aWNzLCBOdWZmaWVsZCBDb2xsZWdlLCAxLCAyMDExLg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("FJdatamethods2.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
